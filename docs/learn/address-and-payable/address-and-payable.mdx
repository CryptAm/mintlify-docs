---
title: Address и Payable в Solidity
sidebarTitle: Руководство
description: Полное руководство по пониманию и использованию типов address и address payable в Solidity.
hide_table_of_contents: false
---

Понимание типов address и address payable критически важно для управления переводами Ether и взаимодействиями внутри ваших контрактов Solidity. Эта статья углубится в их ключевые различия и практическое применение.

---

## Цели

К концу этого урока вы должны уметь:

- Различать типы address и address payable в Solidity
- Определять, когда уместно использовать каждый тип при разработке контрактов
- Использовать address payable для отправки Ether и взаимодействия с payable функциями

---

## Адреса Ethereum

В Solidity адреса Ethereum играют решающую роль во взаимодействии с блокчейном Ethereum. Адрес Ethereum - это 20-байтовая шестнадцатеричная строка, которая представляет место назначения транзакций или владельца смарт-контракта. Эти адреса используются для отправки и получения Ether, а также для взаимодействия со смарт-контрактами.

### Адреса

Обычные адреса в Solidity используются для различных целей, включая:

- Идентификация владельца смарт-контракта
- Отправка Ether с одного адреса на другой
- Проверка баланса адреса
Вот пример объявления обычной переменной типа address в Solidity:

<br />

```solidity
address public owner;
```

### Payable адреса

`payable` - это функция на уровне языка, предоставляемая Solidity для возможности обработки Ether внутри смарт-контрактов, и она не является особенностью самой Ethereum Virtual Machine, а скорее частью синтаксиса языка Solidity. Они используются, когда вы хотите, чтобы контракт мог принимать Ether из внешних источников, таких как другие контракты или пользовательские аккаунты.

Payable адреса часто используются при создании контрактов для краудфандинга или продажи токенов, где пользователи отправляют Ether на адрес контракта в обмен на токены или для финансирования проекта.

Вот пример объявления переменной типа address payable в Solidity:

```solidity
address payable public projectWallet;
```

Payable [Address] помечены как payable, что означает, что они могут принимать входящие транзакции Ether. Важно отметить, что обычные адреса не могут напрямую принимать Ether.

## Получение Ether с помощью Payable адресов

Чтобы получать Ether в контракте, используя payable адрес, вам нужно определить payable функцию, которая может принимать входящие транзакции. Эта функция обычно называется receive или fallback. Вот пример:

```solidity
fallback() external payable {
    // Обрабатывайте входящий Ether здесь
}
```

В этом примере функция fallback помечена как external и payable, что означает, что она может принимать Ether, когда кто-то отправляет его на адрес контракта. Затем вы можете добавить пользовательскую логику для обработки полученного Ether, например, обновление балансов контракта или запуск конкретных действий.

## Использование

```solidity
contract PaymentReceiver {
    address payable owner;

    constructor() payable {
        owner = payable(msg.sender); // Преобразуем msg.sender в payable
    }

    function receiveEther() public payable {
        // Эта функция может принимать Ether
    }

    function withdrawEther() public {
        owner.transfer(address(this).balance); // Отправляем Ether владельцу
    }
}
```

## Заключение

Правильное использование типов address и address payable необходимо для безопасной и эффективной разработки контрактов Solidity. Понимая их различия и применяя их корректно, вы сможете эффективно управлять переводами Ether и взаимодействиями внутри ваших контрактов.

[Address]: https://docs.soliditylang.org/en/latest/types.html#address
