---
title: Упражнение по минимальным токенам
description: Упражнение - Создайте свой собственный токен!
hide_table_of_contents: false
sidebarTitle: Упражнение
---

Создайте контракт, соответствующий следующим спецификациям.

---

## Контракт

Создайте контракт с именем `UnburnableToken`. Добавьте следующее в хранилище:

- Публичное отображение (mapping) `balances` для хранения количества токенов, принадлежащих каждому адресу
- `public uint` для хранения `totalSupply`
- `public uint` для хранения `totalClaimed`
- Другие переменные, необходимые для выполнения задачи

Добавьте следующие функции.

### Конструктор

Добавьте конструктор, который устанавливает общее предложение токенов в 100 000 000.

### Claim

Добавьте `public` функцию `claim`. При вызове, пока количество токенов, равное `totalSupply`, еще не было распределено, любой кошелек, _который еще не получал токены ранее_, должен иметь возможность получить 1000 токенов. Если кошелек попытается получить токены во второй раз, должен произойти откат (revert) с ошибкой `TokensClaimed`.

`totalClaimed` должен увеличиваться на количество полученных токенов.

Как только все токены будут получены, эта функция должна выполнить откат с ошибкой `AllTokensClaimed`. (Мы не сможем протестировать это, но вы будете знать, если она там есть!)

### Безопасный перевод (Safe Transfer)

Реализуйте `public` функцию `safeTransfer`, которая принимает адрес `_to` и `_amount`. Она должна переводить токены от отправителя на адрес `_to`, **только если**:

- Этот адрес не является нулевым адресом
- Этот адрес имеет баланс больше нуля Base Sepolia Eth

Невыполнение любого из этих условий должно привести к откату с ошибкой `UnsafeTransfer`, содержащей адрес.

---

### Отправьте свой контракт и получите NFT-значок! (BETA)

<Note>
#### Эй, куда делся мой NFT?!

[Тестовые сети](/learn/deployment-to-testnet/test-networks) не являются постоянными! Base Goerli [скоро будет приостановлена](https://base.mirror.xyz/kkz1-KFdUwl0n23PdyBRtnFewvO48_m-fZNzPMJehM4), в пользу Base Sepolia.

Поскольку это отдельные сети с отдельными данными, ваши NFT **не будут** перенесены.

**Не волнуйтесь!** Мы зафиксировали адреса всех владельцев NFT на Base Goerli и включим их, когда позже в этом году выпустим механизм переноса этих NFT в основную сеть! Вы также можете повторно развернуть на Sepolia и повторно отправить, если хотите!
</Note>


<Warning>
Спецификация контракта содержит действия, которые могут быть выполнены только один раз данным адресом. В результате модульные тесты для проходящего контракта будут успешными только **первый** раз, когда вы тестируете.

**Возможно, вам потребуется отправить новое развертывание, чтобы пройти тест**
</Warning>


{/* <CafeUnitTest nftNum={13}/> */}

<iframe
  src="https://684b5e62b1ff46bc5bf83966-aijszlfakk.chromatic.com/iframe.html?args=&id=components-cafeunittest--thirteen&viewMode=story&dark=true&hero=true"
  width="100%"
  height="auto"
/>
