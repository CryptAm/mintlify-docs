---
title: "wallet_sendCalls"
description: "Отправить пакет вызовов в кошелек для выполнения"
---

Определено в [EIP-5792](https://eips.ethereum.org/EIPS/eip-5792)

<Info>
Запрашивает у кошелька отправку пакета вызовов. Этот метод позволяет приложениям отправлять несколько транзакций атомарно или последовательно.
</Info>

## Параметры

<ParamField body="version" type="string" required>
Версия формата API. Должна быть "2.0.0".
</ParamField>

<ParamField body="id" type="string">
Идентификатор пакета вызовов для целей отслеживания.
</ParamField>

<ParamField body="from" type="string" required>
Адрес отправителя.
Формат: `^0x[0-9a-fA-F]{40}$`
</ParamField>

<ParamField body="chainId" type="string" required>
Идентификатор цепи EIP-155 для вызовов. Должен соответствовать текущей выбранной сети в кошельке.
Формат: `^0x([1-9a-f]+[0-9a-f]*|0)$`
</ParamField>

<ParamField body="atomicRequired" type="boolean" required>
`true`, если кошелек должен выполнить все вызовы атомарно. Если `false`, кошелек может выполнить вызовы последовательно без атомарности. Если `false` и кошелек способен выполнить вызовы атомарно, он может сделать это.
</ParamField>

<ParamField body="calls" type="array" required>
Массив объектов вызовов для выполнения.

<Expandable title="Структура объекта вызова">
<ParamField body="to" type="string" required>
Адрес получателя для вызова.
</ParamField>

<ParamField body="value" type="string" required>
Значение для отправки с вызовом (в wei, hex формат).
</ParamField>

<ParamField body="data" type="string">
Данные вызова (опционально, hex формат).
</ParamField>
</Expandable>
</ParamField>

<ParamField body="capabilities" type="object">
DApps (децентрализованные приложения) могут использовать этот объект для взаимодействия с кошельком относительно поддерживаемых возможностей.
</ParamField>

## Возвращает

<ResponseField name="result" type="object">
Объект, содержащий информацию об отправленном пакете, включая детали транзакций и статус.
</ResponseField>

## Пример использования

<RequestExample>
```json Request
{
  "id": 1,
  "jsonrpc": "2.0",
  "method": "wallet_sendCalls",
  "params": [{
    "version": "2.0.0",
    "from": "0xd46e8dd67c5d32be8058bb8eb970870f07244567",
    "chainId": "0xaa36a7",
    "atomicRequired": true,
    "calls": [
      {
        "to": "0x54f1C1965B355e1AB9ec3465616136be35bb5Ff7",
        "value": "0x0"
      },
      {
        "to": "0x2D48e6f5Ae053e4E918d2be53570961D880905F2",
        "value": "0x0"
      }
    ]
  }]
}
```
</RequestExample>

<ResponseExample>
```json Success Response
{
  "id": 1,
  "jsonrpc": "2.0",
  "result": {
    "batchId": "0x123...",
    "status": "pending"
  }
}
```
</ResponseExample>

## Обработка ошибок

<ResponseField name="code" type="number">
Код ошибки, указывающий на тип возникшей ошибки.
</ResponseField>

<ResponseField name="message" type="string">
Человекочитаемое сообщение об ошибке, описывающее, что пошло не так.
</ResponseField>

| Код    | Сообщение                                                                | Описание    |
| ------ | ------------------------------------------------------------------------ | ----------- |
| -32602 | The wallet cannot parse the request                                      | Некорректный формат запроса |
| -32000 | Version not supported                                                    | Версия API не поддерживается |
| 4001   | User rejected the request                                                | Пользователь отклонил транзакцию |
| 4100   | The requested account and/or method has not been authorized by the user  | Требуется авторизация |
| 5700   | The wallet does not support a capability that was not marked as optional | Отсутствует обязательная возможность |
| 5710   | EIP-7702 not supported on the specified chain ID                         | Цепь не поддерживается |
| 5720   | There is already a batch submitted with the specified batch ID           | Дублирующийся идентификатор пакета |
| 5740   | The batch is too large for the wallet to process                         | Превышен лимит размера пакета |
| 5750   | EIP-7702 upgrade rejected for this chain and account                     | Обновление отклонено |

<Warning>
Убедитесь, что `chainId` соответствует текущей выбранной сети в кошельке, чтобы избежать неудачных транзакций.
</Warning>

<Tip>
Когда `atomicRequired` установлено в `false`, учитывайте последствия частичного выполнения, если некоторые вызовы завершатся неудачно, а другие - успешно.
</Tip>
