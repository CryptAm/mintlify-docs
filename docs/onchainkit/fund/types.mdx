---
title: Типы компонентов и утилит для пополнения
description: Глоссарий типов.
sidebarTitle: Пополнение
---

## `FundCardPropsReact`

```ts
type FundCardPropsReact = {
  children?: ReactNode;
  assetSymbol: string;
  placeholder?: string | React.ReactNode;
  headerText?: string;
  buttonText?: string;
  country: string;
  subdivision?: string;
  currency?: string;
  className?: string;
  presetAmountInputs?: PresetAmountInputs;
} & LifecycleEvents;
```

## `LifecycleStatus`

```ts
type LifecycleStatus =
  | {
      statusName: "init";
      statusData: null;
    }
  | {
      statusName: "exit";
      statusData: null;
    }
  | {
      statusName: "error";
      statusData: OnrampError;
    }
  | {
      statusName: "transactionSuccess";
      statusData: SuccessEventData;
    }
  | {
      statusName: "transactionPending";
      statusData: null;
    };
```

## `PresetAmountInputs`

```ts
type PresetAmountInputItemPropsReact = {
  presetAmountInput: string;
  currency: string;
  onClick: (presetAmountInput: string) => void;
};

/**
 * Чтобы использовать этот тип, вы должны предоставить кортеж (tuple) строк длиной 3.
 *
 * Пример:
 *
 * const presetAmountInputs: PresetAmountInputs = ['100', '200', '300'];
 */
type PresetAmountInputs = readonly [string, string, string];
```

## `FundButtonReact`

```ts
type FundButtonReact = {
  className?: string; // Опциональное имя CSS-класса для стилизации компонента кнопки
  disabled?: boolean; // Опциональное свойство для отключения кнопки пополнения
  text?: string; // Опциональный текст для отображения в компоненте кнопки
  hideText?: boolean; // Опциональное свойство для скрытия текста в компоненте кнопки
  hideIcon?: boolean; // Опциональное свойство для скрытия иконки в компоненте кнопки
  fundingUrl?: string; // Опциональное свойство для предоставления пользовательского URL для пополнения
  openIn?: "popup" | "tab"; // Определяет, открывать ли процесс пополнения во вкладке или во всплывающем окне
  /**
   * Примечание: `popupSize` будет проигнорирован при использовании URL Coinbase Onramp
   * (т.е. https://pay.coinbase.com/*) так как он требует фиксированного размера всплывающего окна.
   */
  popupSize?: "sm" | "md" | "lg"; // Размер всплывающего окна, если `openIn` установлен в `popup`
  rel?: string; // Определяет отношение между текущим документом и связанным документом
  target?: string; // Где открывать цель, если `openIn` установлен в `tab`
};
```

## `GetOnrampUrlParams`

Свойства, используемые для получения URL покупки через Onramp с использованием токена сессии, созданного с помощью API токена сессии Onramp.

Смотрите [Аутентификация по токену сессии](https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication)

```ts
type GetOnrampUrlParams = {
  /**
   * Токен сессии, созданный с помощью API токена сессии Onramp. Токен будет
   * связан с идентификатором проекта, адресами и параметрами активов, указанными в
   * запросе API на создание токена сессии.
   */
  sessionToken: string;
} & GetOnrampBuyUrlOptionalProps;
```

## `GetOnrampBuyUrlOptionalProps`

Опциональные свойства, которые можно использовать для создания URL покупки через Onramp.

```ts
type GetOnrampBuyUrlOptionalProps = {
  /**
   * Если указано, этот актив будет автоматически выбран для пользователя в
   * интерфейсе Onramp. Должен быть валидным символом актива, например, BTC, ETH, USDC.
   */
  defaultAsset?: string;
  /**
   * Если указано, эта сеть будет автоматически выбрана для пользователя в
   * интерфейсе Onramp. Должно быть валидным названием сети в нижнем регистре, например, ethereum,
   * base.
   */
  defaultNetwork?: string;
  /**
   * Уникальный идентификатор, который будет связан со всеми транзакциями, созданными
   * пользователем во время его сессии Onramp. Вы можете использовать его с
   * API статуса транзакции для проверки статуса транзакции пользователя.
   * См. https://docs.cdp.coinbase.com/onramp/docs/api-reporting#buy-transaction-status
   */
  partnerUserId?: string;
  /**
   * Эта сумма будет использована для предзаполнения количества криптовалюты, которую пользователь
   * покупает или отправляет. Пользователь может изменить эту сумму в интерфейсе.
   * Следует указать только одно из свойств: `presetCryptoAmount` или `presetFiatAmount`.
   */
  presetCryptoAmount?: number;
  /**
   * Эта сумма будет использована для предзаполнения фиатной стоимости криптовалюты, которую пользователь
   * покупает или отправляет. Пользователь может изменить эту сумму в интерфейсе.
   * Следует указать только одно из свойств: `presetCryptoAmount` или `presetFiatAmount`.
   */
  presetFiatAmount?: number;
  /**
   * Метод оплаты по умолчанию, который будет выбран для пользователя в
   * интерфейсе Onramp. Должен быть одним из методов оплаты, поддерживаемых для местоположения
   * пользователя.
   */
  defaultPaymentMethod?: string;
  /**
   * Код валюты фиатной суммы, указанной в параметре `presetFiatAmount`,
   * например, USD, CAD, EUR.
   */
  fiatCurrency?: string;
  /**
   * URL, на который пользователь будет автоматически перенаправлен после успешной
   * покупки/отправки. Домен должен соответствовать домену из белого списка доменов в
   * Coinbase Developer Platform (https://portal.cdp.coinbase.com/products/onramp).
   */
  redirectUrl?: string;
  /**
   * Название компонента, который вызывает URL покупки Onramp. Это будет
   * использоваться для аналитики.
   */
  originComponentName?: string;
};
```

## `OnrampConfigResponseData`

```ts
type OnrampConfigResponseData = {
  countries: OnrampConfigCountry[];
};

type OnrampConfigCountry = {
  id: string;
  /**
   * Код подразделения страны по стандарту ISO 3166-2 из двух цифр, представляющий
   * регион проживания пользователя в пределах его страны,
   * например, NY. Требуется, если `country="US"`, потому что в некоторых штатах (например, NY)
   * действуют ограничения на активы на уровне штата.
   */
  subdivisions: string[];
  paymentMethods: OnrampPaymentMethod[];
};

type OnrampPaymentMethod = {
  id: string;
};
```

## `OnrampOptionsResponseData`

```ts
type OnrampOptionsResponseData = {
  /**
   * Список поддерживаемых фиатных валют, которые можно обменять на криптовалюту в Onramp в данном местоположении.
   * Каждая валюта содержит список доступных методов оплаты с минимальными и максимальными лимитами транзакций для этой валюты.
   */
  paymentCurrencies: OnrampPaymentCurrency[];
  /**
   * Список доступных криптоактивов, которые можно купить в Onramp в данном местоположении.
   */
  purchaseCurrencies: OnrampPurchaseCurrency[];
};

type OnrampPurchaseCurrency = {
  id: string;
  name: string;
  symbol: string;
  iconUrl: string;
  networks: OnrampNetwork[];
};

type OnrampPaymentCurrency = {
  id: string;
  limits: OnrampPaymentMethodLimit[];
  iconUrl: string;
};

type OnrampNetwork = {
  name: string;
  displayName: string;
  chainId: string;
  contractAddress: string;
};

type OnrampPaymentMethodLimit = {
  id: string;
  min: number;
  max: number;
};
```

## `OnrampTransactionStatusResponseData`

```ts
type OnrampTransactionStatusResponseData = {
  /** Список `OnrampTransactions` в обратном хронологическом порядке. */
  transactions: OnrampTransaction[];
  /** Ссылка на следующую страницу транзакций. */
  nextPageKey: string;
  /** Общее количество транзакций, совершенных пользователем. */
  totalCount: string;
};

type OnrampTransaction = {
  status: OnrampTransactionStatusName;
  purchaseCurrency: string;
  purchaseNetwork: string;
  purchaseAmount: OnrampAmount;
  paymentTotal: OnrampAmount;
  paymentSubtotal: OnrampAmount;
  coinbaseFee: OnrampAmount;
  networkFee: OnrampAmount;
  exchangeRate: OnrampAmount;
  txHash: string;
  createdAt: string;
  country: string;
  userId: string;
  paymentMethod: string;
  transactionId: string;
};
```

## `SuccessEventData`

```ts
type SuccessEventData = {
  assetImageUrl: string;
  assetName: string;
  assetSymbol: string;
  chainId: string;
};
```

## `OnrampError`

```ts
type OnrampError = {
  errorType:
    | "internal_error"
    | "handled_error"
    | "network_error"
    | "unknown_error";
  code?: string;
  debugMessage?: string;
};
```

## `EventMetadata`

```ts
type EventMetadata =
  | OpenEvent
  | TransitionViewEvent
  | PublicErrorEvent
  | ExitEvent
  | SuccessEvent
  | RequestOpenUrlEvent;
```

## `OnrampQuoteResponseData`

```ts
type OnrampQuoteResponseData = {
  /**
   * Объект с суммой и валютой общего фиатного платежа, необходимого для завершения покупки, включая все комиссии.
   * Валюта будет соответствовать `paymentCurrency` из запроса, если она поддерживается, в противном случае будет использоваться USD.
   */
  paymentTotal: OnrampAmount;
  /**
   * Объект с суммой и валютой фиатной стоимости покупаемого криптоактива, исключая комиссии.
   * Валюта будет соответствовать `paymentCurrency`.
   */
  paymentSubtotal: OnrampAmount;
  /**
   * Объект с суммой и валютой покупаемой криптовалюты.
   * Валюта будет соответствовать `purchaseCurrency` из запроса.
   * Количество десятичных знаков будет основано на криптоактиве.
   */
  purchaseAmount: OnrampAmount;
  /**
   * Объект с суммой и валютой комиссии, взимаемой биржей Coinbase за совершение транзакции.
   * Валюта будет соответствовать `paymentCurrency`.
   */
  coinbaseFee: OnrampAmount;
  /**
   * Объект с суммой и валютой сетевой комиссии, необходимой для отправки купленной криптовалюты в кошелек пользователя.
   * Валюта будет соответствовать `paymentCurrency`.
   */
  networkFee: OnrampAmount;
  /**
   * Ссылка на квоту, которую следует передать в параметры инициализации при запуске виджета Coinbase Onramp через SDK или генератор URL.
   */
  quoteId: string;
};
```
