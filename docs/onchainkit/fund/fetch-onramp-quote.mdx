---
title: fetchOnrampQuote
---


Утилита fetchOnrampQuote предоставляет котировку на основе актива, который пользователь хочет приобрести, а также сети, фиатного платежа, валюты платежа, способа оплаты и страны. Это полезно для получения информации о ценах и комиссиях перед инициированием транзакции.

## Использование

<CodeGroup>
```tsx code
import { fetchOnrampQuote } from '@coinbase/onchainkit/fund';

const quote = await fetchOnrampQuote({
  purchaseCurrency: 'ETH',
  purchaseNetwork: 'ethereum',
  paymentCurrency: 'USD',
  paymentMethod: 'CARD',
  paymentAmount: '100.00',
  country: 'US',
  subdivision: 'CA', // Требуется для резидентов США
  apiKey: 'your-api-key', // ребуется при использовании без OnchainKitProvider или в не-React окружении
});
```

```json return value
{
  "paymentTotal": {
    "value": "105.00",
    "currency": "USD"
  },
  "paymentSubtotal": {
    "value": "100.00",
    "currency": "USD"
  },
  "purchaseAmount": {
    "value": "0.05",
    "currency": "ETH"
  },
  "coinbaseFee": {
    "value": "3.00",
    "currency": "USD"
  },
  "networkFee": {
    "value": "2.00",
    "currency": "USD"
  },
  "quoteId": "quote_123"
}
```
</CodeGroup>

## Параметры

```typescript
{
  /**
   * ID крипто-актива, который пользователь хочет приобрести.
   * Получено из API опций.
   */
  purchaseCurrency: string;

  /**
   * Название сети, на которой должна быть приобретена валюта покупки.
   * Получено из API опций. Если опущено, используется сеть по умолчанию для
   * криптовалюты.
   */
  purchaseNetwork?: string;

  /**
   * Фиатная валюта суммы платежа, например, USD.
   */
  paymentCurrency: string;

  /**
   * ID способа оплаты, используемого для завершения покупки.
   * Получено из API опций.
   */
  paymentMethod: string;

  /**
   * Фиатная сумма, которую пользователь хочет потратить на покупку криптовалюты,
   * включая комиссии с двумя десятичными знаками, например, "100.00".
   */
  paymentAmount: string;

  /**
   * Двухбуквенный код страны по стандарту ISO 3166-1, представляющий
   * страну проживания пользователя, совершающего покупку, например, US.
   */
  country: string;

  /**
   * Двухбуквенный код региона страны по стандарту ISO 3166-2.
   * Требуется, если country="US", потому что в некоторых штатах (например, NY)
   * действуют ограничения на активы на уровне штата.
   */
  subdivision?: string;
  
   /**
   * Опциональный API-ключ для Coinbase Onramp. Если не предоставлен, будет использован
   * API-ключ из OnchainKitProvider. Требуется при использовании утилиты без
   * OnchainKitProvider или в не-React окружении.
   */
  apiKey?: string;
}
```

## Возвращает

`Promise<OnrampQuoteResponseData>` - Возвращает промис, который разрешается в данные котировки, содержащие суммы платежей, комиссии и ID котировки.

Смотрите [`OnrampQuoteResponseData`](/onchainkit/fund/types#onrampquoteresponsedata) для полных деталей типа ответа.

