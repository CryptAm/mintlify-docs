---
title: getOnrampBuyUrl
---

Утилита `getOnrampBuyUrl` - это вспомогательный метод для генерации URL Coinbase Onramp. Она помогает вам настроить опыт пополнения
для ваших пользователей. Например:

- Установить сумму покупки/отправки по умолчанию, актив по умолчанию или сеть по умолчанию
- Установить URL перенаправления, чтобы вернуть ваших пользователей в ваше приложение после завершения процесса пополнения

<Info>
**Требуется токен сессии:** Эта утилита требует токен сессии, сгенерированный на вашем backend-сервере с использованием ваших CDP API-ключей. Токен сессии инкапсулирует адреса пользователей, поддерживаемые активы и IP клиента.

**Примечание:** Ограничение активов и адресов выполняется во время создания токена сессии на вашем backend.

Смотрите [Аутентификация токена сессии (Session Token Authentication)](https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication) для деталей реализации.

</Info>

## Использование

<CodeGroup>
```tsx code
import { getOnrampBuyUrl } from '@coinbase/onchainkit/fund';

// Сначала сгенерируйте токен сессии на вашем backend-сервере
// Смотрите: https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication
const sessionToken = 'YOUR_SESSION_TOKEN';

const onrampBuyUrl = getOnrampBuyUrl({
sessionToken,
presetFiatAmount: 20,
fiatCurrency: 'USD',
redirectUrl: 'https://yourapp.com/onramp-return?param=foo',
});

````

```json return value
'https://pay.coinbase.com/buy/select-asset?sessionToken=YOUR_SESSION_TOKEN&fiatCurrency=USD&presetFiatAmount=20&redirectUrl=https%3A%2F%2Fyourapp.com%2Fonramp-return%3Fparam%3Dfoo'
````

</CodeGroup>

## Возвращает

`string` - Возвращает полный URL Coinbase Onramp, на который вы можете перенаправить своих пользователей или открыть во всплывающем окне.

## Параметры

[`GetOnrampUrlParams`](/onchainkit/fund/types#getonrampurlparams)

## Генерация токена сессии

Токены сессии должны быть сгенерированы на вашем backend-сервере с использованием CDP API. Токен инкапсулирует:

- Адреса кошельков пользователей
- Поддерживаемые активы и блокчейны
- IP-адрес клиента

Для полных деталей реализации смотрите [Руководство по аутентификации токена сессии (Session Token Authentication Guide)](https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication).
