---
title: getOnrampBuyUrl
---

Утилита `getOnrampBuyUrl` - это вспомогательный метод для генерации URL Coinbase Onramp. Она помогает кастомизировать опыт пополнения средств для ваших пользователей. Например:

- Установка суммы покупки/отправки по умолчанию, актива по умолчанию или сети по умолчанию
- Установка URL для перенаправления, чтобы вернуть пользователей в ваше приложение после завершения потока пополнения

<Info>
**Требуется токен сессии:** Для этой утилиты необходим токен сессии, сгенерированный на вашем сервере бэкенда с использованием ваших CDP API-ключей. Токен сессии инкапсулирует адреса пользователей, поддерживаемые активы и IP-адрес клиента.

**Примечание:** Ограничение активов и адресов выполняется во время создания токена сессии на вашем бэкенде.

См. [Session Token Authentication](https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication) для деталей реализации.

</Info>

## Использование

<CodeGroup>
```tsx code
import { getOnrampBuyUrl } from '@coinbase/onchainkit/fund';

// Сначала сгенерируйте токен сессии на вашем сервере бэкенда
// См.: https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication
const sessionToken = 'YOUR_SESSION_TOKEN';

const onrampBuyUrl = getOnrampBuyUrl({
sessionToken,
presetFiatAmount: 20,
fiatCurrency: 'USD',
redirectUrl: 'https://yourapp.com/onramp-return?param=foo',
});

````

```json return value
'https://pay.coinbase.com/buy/select-asset?sessionToken=YOUR_SESSION_TOKEN&fiatCurrency=USD&presetFiatAmount=20&redirectUrl=https%3A%2F%2Fyourapp.com%2Fonramp-return%3Fparam%3Dfoo'
````

</CodeGroup>

## Возвращает

`string` - Возвращает полный URL Coinbase Onramp, на который вы можете перенаправить своих пользователей или открыть его во всплывающем окне.

## Параметры

[`GetOnrampUrlParams`](/onchainkit/fund/types#getonrampurlparams)

## Генерация токена сессии

Токены сессии должны быть сгенерированы на вашем сервере бэкенда с использованием CDP API. Токен инкапсулирует:

- Адреса кошельков пользователя
- Поддерживаемые активы и блокчейны
- IP-адрес клиента

Полные детали реализации см. в [Session Token Authentication Guide](https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication).
