---
title: getAttestations
---

Функция `getAttestations` получает аттестации для указанного адреса и блокчейна
в службе Ethereum Attestation Service (EAS). Она позволяет выполнять опциональную фильтрацию
по идентификаторам схем, статусу отзыва, времени истечения и количеству возвращаемых аттестаций.

В примере используется идентификатор схемы Coinbase [Verified Account](https://base.easscan.org/schema/view/0xf8b05c79f090979bf4a80270aba232dff11a10d9ca55c4f88de95317970f0de9).

## Использование

<CodeGroup>
```tsx code
import { getAttestations } from '@coinbase/onchainkit/identity';
import { base } from 'viem/chains';

const COINBASE_VERIFIED_ACCOUNT_SCHEMA_ID =
'0xf8b05c79f090979bf4a80270aba232dff11a10d9ca55c4f88de95317970f0de9';

const address = '0x1234567890abcdef1234567890abcdef12345678';
const attestationsOptions = {
schemas: [COINBASE_VERIFIED_ACCOUNT_SCHEMA_ID],
};

const attestations = await getAttestations(address, base, attestationsOptions);

````

```ts return value
const attestations = [
  {
    attester: '0x357458739F90461b99789350868CD7CF330Dd7EE',
    decodedDataJson:
      '[{"name":"verifiedAccount","type":"bool","signature":"bool verifiedAccount","value":{"name":"verifiedAccount","type":"bool","value":true}}]',
    expirationTime: 0,
    id: '0xf1fdb9d102f4b7c1d3b729fc10fea68596301c831913468f3f77f2d631486e12',
    recipient: '0x02feeb0AdE57b6adEEdE5A4EEea6Cf8c21BeB6B1',
    revocationTime: 0,
    revoked: false,
    schemaId: '0xf8b05c79f090979bf4a80270aba232dff11a10d9ca55c4f88de95317970f0de9',
    time: 1704433703,
    timeCreated: 1704433705,
    txid: '0x71e21910fd44c2b75b143cf71318507b60d09c5f3caf848109974dd397de9f37',
  },
];
````

</CodeGroup>

## Возвращает

```typescript
Promise<Attestation[]>

type Attestation = {
  /** Провайдер (attester), создавший аттестацию. */
  attester: Address;
  /** Данные аттестации, декодированные в JSON. */
  decodedDataJson: string;
  /** Unix-время истечения срока действия аттестации (0 - без истечения). */
  expirationTime: number;
  /** Уникальный идентификатор аттестации. */
  id: string;
  /** Адрес Ethereum получателя аттестации. */
  recipient: Address;
  /** Unix-время отзыва аттестации, если применимо. */
  revocationTime: number;
  /** Булево значение, указывающее, отозвана ли аттестация. */
  revoked: boolean;
  /** Идентификатор схемы, связанный с аттестацией. */
  schemaId: EASSchemaUid;
  /** Unix-время создания аттестации. */
  time: number;
};

type Address = `0x${string}`;
type EASSchemaUid = `0x${string}`;
```

## Параметры

### Address

```ts
type Address = `0x${string}`; // Адрес, для которого запрашиваются аттестации.
```

### Chain

```ts
type Chain = { // Интересующий блокчейн.
  id: string;
  name: string;
  network: string;
  chainId: number;
  nativeCurrency: {
    name: string;
    symbol: string;
    decimals: number;
  };
  rpcUrls: string[];
  blockExplorerUrls: string[];
};
```

### GetAttestationsOptions

```typescript
type GetAttestationsParams = {
  /** Массив UID схем для фильтрации */
  schemas?: EASSchemaUid[];
  /** Фильтр по статусу отзыва */
  revoked?: boolean;
  /** Фильтр по времени истечения */
  expirationTime?: number;
  /** Ограничение количества результатов */
  limit?: number;
};
```
