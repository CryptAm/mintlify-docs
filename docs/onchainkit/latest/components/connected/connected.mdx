---
title: "Connected"
---

Компонент `Connected` обеспечивает условный рендеринг в зависимости от состояния подключения кошелька. Он рендерит дочерние элементы, когда кошелек подключен, и показывает запасной UI (fallback), когда кошелек не подключен.

Этот компонент упрощает создание пользовательских интерфейсов, учитывающих состояние кошелька, обрабатывая распространенный паттерн отображения разного контента для состояний «подключен» и «не подключен».

## Использование

### Базовое использование

Самый простой вариант показывает дочерние элементы при подключении и кнопку `ConnectWallet` при отключении:

```tsx
import { Connected } from '@coinbase/onchainkit/connected';

export default function MyComponent() {
  return (
    <Connected>
      <div>Welcome! Your wallet is connected.</div>
    </Connected>
  );
}
```

Когда кошелек не подключен, это автоматически отображает кнопку `ConnectWallet`.

### Кастомный запасной UI (Custom fallback)

Предоставьте кастомный запасной UI для случая, когда кошелек не подключен:

```tsx
import { Connected } from '@coinbase/onchainkit/connected';

export default function MyComponent() {
  return (
    <Connected
      fallback={
        <div className="text-center p-4">
          <h2>Connect your wallet</h2>
          <p>Please connect your wallet to continue</p>
        </div>
      }
    >
      <div>Welcome! Your wallet is connected.</div>
    </Connected>
  );
}
```

### Без запасного UI (No fallback)

Передайте `null` в качестве fallback, чтобы ничего не рендерить при отключении:

```tsx
import { Connected } from '@coinbase/onchainkit/connected';

export default function MyComponent() {
  return (
    <Connected fallback={null}>
      <div>This only shows when connected</div>
    </Connected>
  );
}
```

### Состояние подключения

Показывайте состояние загрузки, пока кошелек подключается:

```tsx
import { Connected } from '@coinbase/onchainkit/connected';

export default function MyComponent() {
  return (
    <Connected
      connecting={
        <div className="flex items-center gap-2">
          <div className="animate-spin w-4 h-4 border-2 border-blue-500 rounded-full border-t-transparent" />
          <span>Connecting wallet...</span>
        </div>
      }
      fallback={
        <button className="bg-blue-500 text-white px-4 py-2 rounded">
          Connect Wallet
        </button>
      }
    >
      <div>Wallet connected successfully!</div>
    </Connected>
  );
}
```

## Продвинутое использование

### Создание сложных потоков

Используйте `Connected` для создания сложных пользовательских потоков, адаптирующихся к состоянию подключения:

```tsx
import { Connected } from '@coinbase/onchainkit/connected';
import { Transaction, TransactionButton } from '@coinbase/onchainkit/transaction';

export default function MintFlow() {
  return (
    <div className="space-y-4">
      <h1>Mint Your NFT</h1>

      <Connected
        connecting={<div>Preparing wallet...</div>}
        fallback={
          <div className="border rounded-lg p-6 text-center">
            <h2>Connect to get started</h2>
            <p className="text-gray-600 mb-4">
              You need to connect your wallet to mint an NFT
            </p>
          </div>
        }
      >
        <div className="border rounded-lg p-6">
          <h2>Ready to mint!</h2>
          <p className="text-gray-600 mb-4">
            Your wallet is connected. Click below to mint your NFT.
          </p>

          <Transaction
            calls={[
              {
                to: '0x...',
                data: '0x...',
              },
            ]}
          >
            <TransactionButton>Mint NFT</TransactionButton>
          </Transaction>
        </div>
      </Connected>
    </div>
  );
}
```

### Условная навигация

Скрывайте элементы навигации, когда кошелек не подключен:

```tsx
import { Connected } from '@coinbase/onchainkit/connected';

export default function Navigation() {
  return (
    <nav className="flex items-center justify-between p-4">
      <div>My App</div>

      <div className="flex items-center gap-4">
        <Connected fallback={null}>
          <a href="/dashboard">Dashboard</a>
          <a href="/profile">Profile</a>
        </Connected>

        <Connected>
          <span>Wallet connected</span>
        </Connected>
      </div>
    </nav>
  );
}
```

## Свойства

```ts
type ConnectedProps<TFallback extends ReactNode | undefined = undefined> =
  TFallback extends undefined
    ? ConnectedBaseProps<TFallback> & ConnectWalletFallbackProps
    : ConnectedBaseProps<TFallback>;

type ConnectedBaseProps<TFallback extends ReactNode | undefined> = {
  /**
   * Контент для рендеринга, когда есть подключенный аккаунт.
   */
  children: ReactNode;
  /**
   * Контент для рендеринга, когда нет подключенного аккаунта.
   * Если не определен, по умолчанию рендерится кнопка `<ConnectWallet />`.
   * Передайте `null`, чтобы ничего не рендерить.
   */
  fallback?: TFallback;
  /**
   * Если определен, контент для рендеринга, когда нет подключенного аккаунта
   * и `useAccount().status` имеет значение "connecting".
   */
  connecting?: ReactNode;
};
```

Когда пропс `fallback` не предоставлен, компонент принимает все пропсы, которые принимает `ConnectWallet`, в качестве сквозных (passthrough) свойств.
