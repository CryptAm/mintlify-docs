---
title: "FundButton"
---

Компонент `<FundButton />` предоставляет пользователям возможность пополнить свой кошелек, не покидая ваше приложение. Он автоматически определяет тип кошелька пользователя (EOA vs Смарт-кошелек) и направляет его на соответствующий URL для пополнения.

Если ваш пользователь подключит Coinbase Smart Wallet, он предоставляет простой способ доступа к потоку 
[Fund](https://keys.coinbase.com/fund) для Coinbase Smart Wallet. Пользователи смогут покупать и получать
криптовалюту или использовать свои балансы Coinbase в ончейне с помощью [Magic Spend](https://www.smartwallet.dev/guides/magic-spend).

Если ваш пользователь подключит любой другой EOA-кошелек, он предоставляет простой способ доступа к [Coinbase Onramp](https://docs.cdp.coinbase.com/onramp/docs/welcome/),
где ваши пользователи также смогут покупать криптовалюту, используя фиатный метод оплаты, или переводить существующую криптовалюту 
со своего аккаунта Coinbase.

 

## Пошаговое руководство

<Steps>
  <Step title="Получите ваш Project ID">
  1. Получите ваш Project ID из [Coinbase Developer Platform Dashboard](https://portal.cdp.coinbase.com/).

<Frame>
  <img alt="OnchainKit copy Project Id" src="/images/onchainkit/copy-project-id.png" />
</Frame>

  2. Добавьте ваш Project ID в ваш файл `.env`.

  ```tsx .env
  NEXT_PUBLIC_ONCHAINKIT_API_KEY=YOUR_PUBLIC_API_KEY
  NEXT_PUBLIC_CDP_PROJECT_ID=YOUR_CDP_PROJECT_ID // [!code ++]
  ```
  </Step>
  <Step title="Добавьте Project ID в OnchainKitProvider">
  ```tsx
  <OnchainKitProvider
    apiKey={process.env.NEXT_PUBLIC_ONCHAINKIT_API_KEY} 
    projectId={process.env.NEXT_PUBLIC_CDP_PROJECT_ID} // [!code ++]
    chain={base}
  >
    {props.children}
  </OnchainKitProvider>
  ```
  </Step>

  <Step title="Получите sessionToken">
 [Getting session token](https://docs.cdp.coinbase.com/onramp-&-offramp/session-token-authentication)
  </Step>

  <Step title="Drop in the<FundButton /> component">
  ```tsx
  import { FundButton } from '@coinbase/onchainkit/fund';


  const sessionToken = "YOUR_SESSION_TOKEN";

  <FundButton sessionToken={sessionToken} />
  ```

  <App>
    <FundWrapper>
      {({ address }) => {
        if (address) {
          return (
            <FundButton sessionToken={sessionToken} />
          )
        }
        return <>
          <Wallet>
            <ConnectWallet>
              <Avatar className="h-6 w-6" />
              <Name />
            </ConnectWallet>
          </Wallet>
        </>;
      }}
    </FundWrapper>
  </App>
  </Step>
</Steps>

## Кастомизация опыта пополнения

Вы можете кастомизировать опыт Coinbase Onramp, используя свой собственный URL Onramp и передавая его в компонент `<FundButton />`. 
Мы предоставляем утилиту [`getOnrampBuyUrl`](/onchainkit/fund/get-onramp-buy-url), которая поможет вам сгенерировать URL Coinbase Onramp, 
адаптированный под ваш случай использования.

```tsx
import { FundButton, getOnrampBuyUrl } from '@coinbase/onchainkit/fund';
import { useAccount } from 'wagmi';

const projectId = 'YOUR_CDP_PROJECT_ID';
const { address } = useAccount();

const onrampBuyUrl = getOnrampBuyUrl({
  sessionToken: "YOUR_SESSION_TOKEN"
  presetFiatAmount: 20,
  fiatCurrency: 'USD'
});

<FundButton fundingUrl={onrampBuyUrl} />
```

<iframe
  src="https://684b5e62b1ff46bc5bf83966-aijszlfakk.chromatic.com/iframe.html?args=&id=onchainkit-fund-button--with-funding-url&viewMode=story&dark=true&hero=true"
  width="100%"
  height="auto"
/>
{/* <App>
  <FundWrapper>
    {({ address, projectId }) => {
      if (address && projectId) {
        const onrampBuyUrl = getOnrampBuyUrl({
          sessionToken: "YOUR_SESSION_TOKEN"
          presetFiatAmount: 20,
          fiatCurrency: 'USD'
        });
        return (
          <FundButton fundingUrl={onrampBuyUrl} />
        )
      }
      return <>
        <Wallet>
          <ConnectWallet>
            <Avatar className="h-6 w-6" />
            <Name />
          </ConnectWallet>
        </Wallet>
      </>;
    }}
  </FundWrapper>
</App> */}

Вы можете выбрать, чтобы URL для пополнения открывался во всплывающем окне или новой вкладке, используя свойство `openIn`.

```tsx
<FundButton openIn={"tab"} sessionToken={sessionToken} />
```

<iframe
  src="https://684b5e62b1ff46bc5bf83966-aijszlfakk.chromatic.com/iframe.html?args=&id=onchainkit-fund-button--open-in-tab&viewMode=story&dark=true&hero=true"
  width="100%"
  height="auto"
/>
{/* <App>
  <FundWrapper>
    {({ address }) => {
      if (address) {
        return (
          <FundButton openIn={"tab"} sessionToken={sessionToken} />
        )
      }
      return <>
        <Wallet>
          <ConnectWallet>
            <Avatar className="h-6 w-6" />
            <Name />
          </ConnectWallet>
        </Wallet>
      </>;
    }}
  </FundWrapper>
</App> */}

## Кастомизация кнопки пополнения

Вы можете переопределить текст на кнопке пополнения, используя свойство `text`, и скрыть иконку с помощью свойства `hideIcon`.

```tsx
<FundButton text={"Onramp"} hideIcon={true} sessionToken={sessionToken} />
```

<iframe
  src="https://684b5e62b1ff46bc5bf83966-aijszlfakk.chromatic.com/iframe.html?args=&id=onchainkit-fund-button--custom-text-and-hide-icon&viewMode=story&dark=true&hero=true"
  width="100%"
  height="auto"
/>
{/* <App>
  <FundWrapper>
    {({ address }) => {
      if (address) {
        return (
          <FundButton text={"Onramp"} hideIcon={true} sessionToken={sessionToken} />
        )
      }
      return <>
        <Wallet>
          <ConnectWallet>
            <Avatar className="h-6 w-6" />
            <Name />
          </ConnectWallet>
        </Wallet>
      </>;
    }}
  </FundWrapper>
</App> */}

Вы можете скрыть текст с помощью свойства `hideText`.

```tsx
<FundButton hideText={true} sessionToken={sessionToken} />
```

<iframe
  src="https://684b5e62b1ff46bc5bf83966-aijszlfakk.chromatic.com/iframe.html?args=&id=onchainkit-fund-button--hide-text&viewMode=story&dark=true&hero=true"
  width="100%"
  height="auto"
/>
{/* <App>
  <FundWrapper>
    {({ address }) => {
      if (address) {
        return (
          <>
            <FundButton hideText={true} sessionToken={sessionToken} />
          </>
        )
      }
      return <>
        <Wallet>
          <ConnectWallet>
            <Avatar className="h-6 w-6" />
            <Name />
          </ConnectWallet>
        </Wallet>
      </>;
    }}
  </FundWrapper>
</App> */}

См. [`FundButtonReact`](/onchainkit/fund/types#fundbuttonreact) для полного списка опций кастомизации.

## Свойства

[`FundButtonProps`](#fundbuttonprops)

```ts
type FundButtonProps =
  | {
      render?: (props: FundButtonRenderParams) => React.ReactNode;
      children?: never;
    }
  | {
      render?: never;
      children?: ReactNode;
    };

type FundButtonBaseProps = {
  /** Опциональное имя CSS-класса для стилизации кнопки */
  className?: string;
  /** Опциональный React-узел для отображения в кнопке */
  children?: ReactNode;
  /** Опциональный пропс для отключения кнопки пополнения */
  disabled?: boolean;
  /** Состояние кнопки */
  state?: FundButtonState;
  /** Опциональный пропс для предоставления кастомного URL для пополнения */
  fundingUrl?: string;
  /** Открывать ли поток пополнения во вкладке или всплывающем окне */
  openIn?: 'popup' | 'tab';
  /** Размер всплывающего окна, если `openIn` установлен в `popup` */
  popupSize?: 'sm' | 'md' | 'lg';
  /** Где открывать цель, если `openIn` установлен в tab */
  target?: string;
  /** Код валюты фиатной суммы, указанной в параметре presetFiatAmount, например USD, CAD, EUR. */
  fiatCurrency?: string;
  /** Функция-обработчик, которая будет вызвана, когда всплывающее окно закрыто */
  onPopupClose?: () => void;
  /** Функция-обработчик, которая будет вызвана при нажатии на кнопку */
  onClick?: () => void;
  /** Опциональный пропс для предоставления токена сессии. Обязателен, если fundingUrl не предоставлен */
  sessionToken?: string;
};
```

