---
title: Дополнительные провайдеры · OnchainKit
sidebarTitle: Дополнительные провайдеры
description: Настройка провайдеров Wagmi и QueryClient
---

import StartBuilding from "/snippets/start-building.mdx";

Под капотом OnchainKit создаст наши рекомендуемые провайдеры Wagmi и QueryClient.
Если вы хотите настроить эти провайдеры, вы можете сделать это, создав
эти провайдеры с вашей собственной конфигурацией.

Например, следующий код создает пользовательские провайдеры Wagmi и QueryClient:

<CodeGroup>
```tsx wagmi.ts
// @noErrors: 2554
import { http, cookieStorage, createConfig, createStorage } from 'wagmi';
import { base } from 'wagmi/chains'; // добавьте baseSepolia для тестирования // [!code ++]
import { coinbaseWallet } from 'wagmi/connectors';

export function getConfig() {
  return createConfig({
    chains: [base], // add baseSepolia for testing // [!code ++]
    connectors: [
      coinbaseWallet({
        appName: 'OnchainKit',
        preference: 'smartWalletOnly',
        version: '4',
      }),
    ],
    storage: createStorage({
      storage: cookieStorage,
    }),
    ssr: true,
    transports: {
      [base.id]: http(), // добавьте baseSepolia для тестирования // [!code ++]
    },
  });
}

declare module 'wagmi' {
  interface Register {
    config: ReturnType<typeof getConfig>;
  }
}
```

```tsx providers.tsx
// @noErrors: 2307 2580 2339 2554 - cannot find 'process', cannot find './wagmi', cannot find 'import.meta'
import { OnchainKitProvider } from '@coinbase/onchainkit';
import { QueryClient, QueryClientProvider } from '@tanstack/react-query';
import { base } from 'wagmi/chains'; // добавьте baseSepolia для тестирования // [!code ++]
import { type ReactNode, useState } from 'react';
import { type State, WagmiProvider } from 'wagmi';

import { getConfig } from '@/wagmi'; // ваш путь импорта может отличаться // [!code ++]

export function Providers(props: {
  children: ReactNode;
  initialState?: State;
}) {
  const [config] = useState(() => getConfig());
  const [queryClient] = useState(() => new QueryClient());
  const apiKey = // [!code ++]
    typeof window !== 'undefined' // [!code ++]
      ? window.ENV?.PUBLIC_ONCHAINKIT_API_KEY // [!code ++]
      : undefined; // [!code ++]

  return (
    <WagmiProvider config={config} initialState={props.initialState}>
      <QueryClientProvider client={queryClient}>
        <OnchainKitProvider
          apiKey={apiKey} // [!code ++]
          chain={base} // add baseSepolia for testing // [!code ++]
        >
          {props.children}
        </OnchainKitProvider>
      </QueryClientProvider>
    </WagmiProvider>
  );
}
```
</CodeGroup>

<StartBuilding />

