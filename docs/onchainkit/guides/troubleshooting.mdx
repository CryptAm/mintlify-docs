---
title: "Решение проблем"
---


Это руководство охватывает распространенные проблемы, с которыми вы можете столкнуться при использовании OnchainKit. Если вы не нашли здесь свою проблему, попробуйте поискать в наших [GitHub Issues](https://github.com/coinbase/onchainkit/issues) или присоединиться к нашему [сообществу Discord](https://discord.gg/invite/buildonbase).

## Распространенные проблемы

### Настройка окружения

- **Отсутствует API-ключ**

  - Ошибка: "Project ID is required for this component"
  - Решение: Добавьте ваш Client API Key в файл `.env`:

  ```dotenv
  NEXT_PUBLIC_CDP_API_KEY=YOUR_PUBLIC_API_KEY
  ```

- **Недопустимые переменные окружения**

  - Ошибка: "Cannot find environment variable"
  - Решение: Используйте правильное имя переменной для вашего фреймворка:
    - Next.js: `NEXT_PUBLIC_CDP_API_KEY`
    - Vite: `VITE_PUBLIC_ONCHAINKIT_API_KEY`
    - Astro: `PUBLIC_ONCHAINKIT_API_KEY`

- **Контракты недоступны**
  - Ошибка: "Contracts are not available" или "Contracts not available for LifecycleStatus"
  - Решения:
    - Убедитесь, что `NEXT_PUBLIC_ONCHAINKIT_API_KEY` установлен корректно
    - Для компонента Checkout с `chargeHandler` также установите:
      ```dotenv
      NEXT_PUBLIC_COINBASE_COMMERCE_API_KEY=YOUR_COMMERCE_API_KEY
      ```
    - Убедитесь, что API-ключи правильно выставлены в вашем окружении

### Зависимости

- **Совместимость версий**
  - Проблема: Неожиданное поведение или ошибки типов
  - Решение: Убедитесь в совместимости версий:
    ```json
    {
      "dependencies": {
        "@coinbase/onchainkit": "latest",
        "viem": "^2.0.0",
        "@wagmi/core": "^2.0.0"
      }
    }
    ```

### Конфигурация провайдера

- **Отсутствует OnchainKitProvider**

  - Ошибка: "OnchainKit context not found"
  - Решение: Оберните ваше приложение в OnchainKitProvider и [настройте](/onchainkit/getting-started) его правильно:

  ```tsx
  import { OnchainKitProvider } from '@coinbase/onchainkit';
  import { base } from 'viem/chains';

  export default function App({ children }) {
    return (
      <OnchainKitProvider
        apiKey={process.env.NEXT_PUBLIC_CDP_API_KEY}
        chain={base}
      >
        {children}
      </OnchainKitProvider>
    );
  }
  ```

### Подключение кошелька

- **Ошибка подключения**

  - Ошибка: "Unable to connect wallet"
  - Решения:
    - Убедитесь, что расширение кошелька установлено и разблокировано
    - Проверьте [конфигурацию поддерживаемых цепей](/onchainkit/wallet/wallet)
    - Убедитесь в правильном выборе сети в кошельке
    - Проверьте доступность RPC-эндпоинтов

- **Проблемы с переключением цепи**
  - Ошибка: "Failed to switch chain"
  - Решения:
    - Убедитесь, что идентификатор цепи (chain ID) поддерживается OnchainKit
    - Проверьте, что кошелек имеет необходимые разрешения
    - Убедитесь, что RPC-эндпоинты настроены корректно
    - Добавьте цепь в кошелек, если она еще не добавлена

### Проблемы с транзакциями

- **Ошибка оценки газа**
  - Ошибка: "Gas estimation failed"
  - Решения:
    - Убедитесь в достаточном балансе для оплаты газа
    - Проверьте валидность параметров транзакции
    - Убедитесь в правильной [конфигурации сети](/onchainkit/transaction/transaction)

### Компоненты Identity

### Проблемы с темой

- **Темная тема не работает**

  - Ошибка: "Dark mode styles not applying"
  - Решение: Настройте Tailwind и OnchainKit правильно:

  ```js
  // tailwind.config.js
  module.exports = {
    darkMode: ['class'],
    safelist: ['dark'],
    // ... остальная конфигурация
  }
  ```

### React Native

- ** Поддержка React Native **
  - Компоненты OnchainKit не поддерживаются для использования в React Native, однако вы можете использовать функции-утилиты, такие как `getName`, а также некоторые хуки в вашем React Native приложении. При использовании этих функций-утилит вам может потребоваться импортировать их напрямую, а не через основной файл экспорта.
  - Пример: `import { getName } from '@coinbase/onchainkit/esm/identity/utils/getName.js';` вместо `import { getName } from '@coinbase/onchainkit/identity;`

### Разрешение модулей

- **Ошибки разрешения модулей**
  - Ошибка: "Cannot find module ... or its corresponding type declarations. Consider updating to 'node16', 'nodenext', or 'bundler'"
  - Решение: Обновите версию Node.js или используйте совместимый сборщик. Мы рекомендуем использовать Node 18+ и `"moduleResolution": "NodeNext"` для наилучшего опыта разработки. OnchainKit поддерживает только ES Modules и не поддерживает CommonJS модули.

## Получение помощи

Нужна дополнительная помощь?

- [Сообщество Discord](https://discord.gg/invite/buildonbase)
- [Поддержка в X/Twitter](https://x.com/onchainkit)
- [GitHub Issues](https://github.com/coinbase/onchainkit/issues)

