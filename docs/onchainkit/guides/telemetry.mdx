---
title: Телеметрия · OnchainKit
sidebarTitle: Telemetry
description: Понимание системы анонимной телеметрии OnchainKit и способов ее настройки.
---

OnchainKit представляет систему анонимной телеметрии, которая поможет нам лучше понять, как наша библиотека используется в реальных условиях. Участие в этой анонимной программе необязательно - если вы предпочитаете не делиться данными об использовании, вы можете легко отказаться.

### Зачем мы собираем телеметрию?

OnchainKit быстро стала основной полнофункциональной библиотекой компонентов для интеграции ключевой ончейн-функциональности (такой как `<Wallet />`, `<Transaction />` и `<Swap />`) за считанные минуты. До сих пор наши представления об использовании ограничивались публичными данными о загрузках с npm и использованием API-эндпоинтов. Собирая телеметрические данные, мы можем:

- **Оценить использование компонентов**: Понимать, какие компоненты (и их варианты) наиболее популярны
- **Улучшения на основе данных**: Помочь нашей команде data science генерировать инсайты, которые будут определять будущие улучшения и решения о рефакторинге
- **Проактивный мониторинг**: Быстро обнаруживать проблемы с новыми релизами или изменениями API через выделенный поток событий об ошибках (с алертами для инженеров oncall)

### Какие данные будут собираться?

Телеметрические данные полностью анонимны и предназначены для предоставления агрегированных инсайтов. В частности, мы собираем:

- **Детали команд**: Какие команды (или события компонентов) вызываются (например, walletConnection, swapSuccess)
- **Информация о версии и приложении**: Версия OnchainKit, имя приложения (из window.top.document.title) и источник (URL приложения)
- **Метрики использования**: Информация, такая как количество уникальных кошельков, транзакций или контрактов, взаимодействующих с OnchainKit
- **События ошибок**: Общие события ошибок вместе с контекстом компонента, чтобы помочь нам справиться с любыми проблемами

Никакие конфиденциальные данные - такие как переменные окружения, пути к файлам или приватные ключи - никогда не собираются.

### Как это работает?

Телеметрия интегрирована непосредственно в каждый соответствующий компонент через нашу новую функцию `sendAnalytics`. Когда происходит событие компонента (например, успешная транзакция или подключение кошелька), эта функция автоматически срабатывает (при условии, что аналитика включена в вашей конфигурации OnchainKit).

Например, событие телеметрии может быть отправлено следующим образом:

```bash
curl -X POST https://api.developer.coinbase.com/rpc/analytics \
  -H "Content-Type: application/json" \
  -H "OnchainKit-Version: 0.37.0" \
  -H "OnchainKit-App-Name: My Example App" \
  -H "Origin: www.example-app.vercel.app" \
  -d '{
    "eventType": "transactionSuccess",
    "apiKey": "ozpCtG8CfD3TIod_1Va7UBsUm5Rn1",
    "data": {
      "address": "0x...",
      "contract": "0x...",
      "transactionHash": "0x...",
      "sponsored": true
    }
  }'
```

### Как отказаться?

По умолчанию, начиная с версии 0.37.0, телеметрия отключена по умолчанию (opt-out). Если вы хотите отключить телеметрию, просто установите флаг `analytics` в значение `false` в конфигурации OnchainKit:

```tsx
// @noErrors:  2304
export function Providers(props: { children: ReactNode }) {
  return (
    <OnchainKitProvider
      apiKey={process.env.NEXT_PUBLIC_ONCHAINKIT_API_KEY}
      chain={base}
      config={{
        analytics: false // [!code focus]
      }}
    >
      {props.children}
    </OnchainKitProvider>
  );
}
```

Вы также можете снова включить аналитику позже, переключив этот флаг на `true`.

Мы верим, что эта инициатива с телеметрией поможет нам сделать OnchainKit еще лучше для всех разработчиков - сосредоточив наши улучшения на наиболее используемых функциях и выявляя проблемы на раннем этапе. Если у вас есть вопросы или отзывы, пожалуйста, свяжитесь с командой OnchainKit.

Удачной разработки!

— Основная команда OnchainKit

