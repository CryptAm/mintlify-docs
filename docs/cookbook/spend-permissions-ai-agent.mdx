---
title: "AI Agent —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –Ω–∞ —Ç—Ä–∞—Ç—ã (Spend Permissions)"
description: "–°–æ–∑–¥–∞–π—Ç–µ AI –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –ø–æ–∫—É–ø–∞—Ç—å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π —Å –ø–æ–º–æ—â—å—é Spend Permissions –æ—Ç Base Account"
---

–£–∑–Ω–∞–π—Ç–µ, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å AI –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –∞–≤—Ç–æ–Ω–æ–º–Ω–æ –ø–æ–∫—É–ø–∞—Ç—å [Zora Creator Coins](https://docs.zora.co/coins) –∏—Å–ø–æ–ª—å–∑—É—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ [Spend Permissions](/base-account/improve-ux/spend-permissions) –≤ Base.
–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç, –∫–∞–∫ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å [Spend Permissions](/base-account/improve-ux/spend-permissions) –æ—Ç Base Account —Å [Server Wallets](https://docs.cdp.coinbase.com/server-wallets/v2/introduction/quickstart) –∏ [Trade API](https://docs.cdp.coinbase.com/trade-api/quickstart) –æ—Ç Coinbase Developer Platform (CDP) –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–µ—Å—à–æ–≤–Ω—ã—Ö, –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö (gas-free) —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π AI –∞–≥–µ–Ω—Ç–æ–º.

<Frame>
  <img
    src="/images/base-account/spend-permissions-agent.png"
    alt="Spend Permissions Agent Interface"
  />
</Frame>

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é AI –∞–≥–µ–Ω—Ç–∞, –∫–æ—Ç–æ—Ä–∞—è:

- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** —Å –ø–æ–º–æ—â—å—é Base Account, –∏—Å–ø–æ–ª—å–∑—É—è (SIWE)](/base-account/guides/authenticate-users)
- **–£–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –Ω–∞ —Ç—Ä–∞—Ç—ã (Spend Permissions)**, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–Ω–µ–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Å –ø–æ–º–æ—â—å—é [ Base Account Spend Permissions](/base-account/improve-ux/spend-permissions)
- **–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ** –¥–ª—è –ø–æ–∫—É–ø–∫–∏ Zora creator coins —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [OpenAI](https://openai.com/)
- **–í—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏** –∞–≤—Ç–æ–Ω–æ–º–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [Server Wallets](https://docs.cdp.coinbase.com/server-wallets/v2/introduction/quickstart) –∏ [Trade API](https://docs.cdp.coinbase.com/trade-api/quickstart) –æ—Ç CDP
- **–°–ø–æ–Ω—Å–∏—Ä—É–µ—Ç –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≥–∞–∑ (Gas Fees) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [CDP Paymaster](https://docs.cdp.coinbase.com/paymaster/introduction/welcome) –¥–ª—è –±–µ—Å—à–æ–≤–Ω–æ–≥–æ UX
- **–ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ creator coins** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º [Zora SDK](https://docs.zora.co/coins/sdk)

<CardGroup cols={2}>
  <Card
    title="–ñ–∏–≤–∞—è –¥–µ–º–æ"
    icon="rocket"
    href="https://base-agent-spend-permissions.vercel.app"
  >
    –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∂–∏–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ç—Ä–∞—Ç—ã –≤ –¥–µ–π—Å—Ç–≤–∏–∏
  </Card>
  <Card
    title="–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥"
    icon="github"
    href="https://github.com/base/demos/tree/master/base-account/agent-spend-permissions"
  >
    –ò–∑—É—á–∏—Ç–µ –ø–æ–ª–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ GitHub
  </Card>
</CardGroup>

<Warning>
  **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**: –≠—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏. –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Ä–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ JWT —Ç–æ–∫–µ–Ω—ã —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ —Å–µ–∫—Ä–µ—Ç–∞–º–∏ —Å–µ—Å—Å–∏–π.
</Warning>

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ü—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–æ—á–µ—Ç–∞–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ —Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø–æ–¥–ø–∏—Å–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ:

<CodeGroup>
```typescript src/components/SignInWithBase.tsx
// Frontend: Sign-In with Ethereum implementation
const provider = createBaseAccountSDK({
  appName: "Zora Creator Coins Agent",
}).getProvider();

// 1. –ü–æ–ª—É—á–∞–µ–º nonce —Å —Å–µ—Ä–≤–µ—Ä–∞
const nonceResponse = await fetch('/api/auth/verify', { method: 'GET' });
const { nonce } = await nonceResponse.json();

// 2. –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SIWE
const connectResponse = await provider.request({
  method: "wallet_connect",
  params: [{
    version: "1",
    capabilities: {
      signInWithEthereum: {
        chainId: '0x2105',
        nonce,
      },
    },
  }],
});

// 3. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
const verifyResponse = await fetch('/api/auth/verify', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ address, message, signature })
});
```

```typescript src/app/api/auth/verify/route.ts
// –ë—ç–∫–µ–Ω–¥: –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
export async function POST(request: NextRequest) {
  const { address, message, signature } = await request.json();

  // –ò–∑–≤–ª–µ–∫–∞–µ–º –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º nonce
  const nonce = message.match(/Nonce: (\w+)/)?.[1];
  if (!nonce || !nonces.has(nonce)) {
    return NextResponse.json({ error: 'Invalid or expired nonce' }, { status: 401 });
  }

  // –£–¥–∞–ª—è–µ–º nonce –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  nonces.delete(nonce);

  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å—å —Å –ø–æ–º–æ—â—å—é viem
  const isValid = await client.verifyMessage({ 
    address: address as `0x${string}`, 
    message, 
    signature: signature as `0x${string}` 
  });
  
  if (isValid) {
    // –°–æ–∑–¥–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ç–æ–∫–µ–Ω —Å–µ—Å—Å–∏–∏
    const sessionToken = Buffer.from(`${address}:${Date.now()}`).toString('base64');
    
    const response = NextResponse.json({ ok: true, address, sessionToken });
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—É—é cookie —Å–µ—Å—Å–∏–∏
    response.cookies.set('session', sessionToken, {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'strict',
      maxAge: 60 * 60 * 24 * 7 // 1 week
    });
    
    return response;
  }
}

export async function GET() {
  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π nonce –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  const array = new Uint8Array(16);
  crypto.getRandomValues(array);
  const nonce = Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');
  
  nonces.add(nonce);
  return NextResponse.json({ nonce });
}
```
</CodeGroup>

### üí∏ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –Ω–∞ —Ç—Ä–∞—Ç—ã (Spend Permission)

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å –∞–≥–µ–Ω—Ç—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ —Å—Ä–µ–¥—Å—Ç–≤:

<CodeGroup>
```typescript src/components/SpendPermissionSetup.tsx
// –§—Ä–æ–Ω—Ç–µ–Ω–¥: –ó–∞–ø—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ç—Ä–∞—Ç—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
import { requestSpendPermission } from "@base-org/account/spend-permission";
import { createBaseAccountSDK } from "@base-org/account";

const handleSetupPermission = async () => {
  // –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
  const walletResponse = await fetch("/api/wallet/create", { method: "POST" });
  const { smartAccountAddress } = await walletResponse.json();

  // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–∞—Ç—ã
  const permission = await requestSpendPermission({
    account: userAddress as `0x${string}`,
    spender: smartAccountAddress as `0x${string}`,
    token: USDC_BASE_ADDRESS as `0x${string}`,
    chainId: 8453,
    allowance: BigInt(dailyLimit * 1_000_000), // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º USD –≤ USDC (6 decimals)
    periodInDays: 1,
    provider: createBaseAccountSDK({
      appName: "Zora Creator Coins Agent",
    }).getProvider(),
  });

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  localStorage.setItem("spendPermission", JSON.stringify(permission));
};
```

```typescript src/lib/spend-permissions.ts
// –£—Ç–∏–ª–∏—Ç–∞: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —Ç—Ä–∞—Ç—ã
export const USDC_BASE_ADDRESS = '0x833589fcd6edb6e08f4c7c32d4f71b54bda02913';

export async function getUserSpendPermissions(
  userAccount: string,
  spenderAccount: string
) {
  const permissions = await fetchPermissions({
    account: userAccount as `0x${string}`,
    chainId: 8453,
    spender: spenderAccount as `0x${string}`,
    provider: createBaseAccountSDK({
      appName: "Zora Creator Coins Agent",
    }).getProvider(),
  });

  // –§–∏–ª—å—Ç—Ä—É–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è USDC —Å —É—á–µ—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–∞
  return permissions.filter(p => 
    p.permission?.token?.toLowerCase() === USDC_BASE_ADDRESS.toLowerCase()
  );
}
```
</CodeGroup>

<Callout type="info">
  –†–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ç—Ä–∞—Ç—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –¥–ª—è USDC –≤ —Å–µ—Ç–∏ Base mainnet —Å –¥–Ω–µ–≤–Ω—ã–º–∏ –ª–∏–º–∏—Ç–∞–º–∏ –æ—Ç $1 –¥–æ $2, —á—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–π.
</Callout>

### ü§ñ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è AI –∞–≥–µ–Ω—Ç–∞

–ê–≥–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ –∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:

<CodeGroup>
```typescript src/lib/openai.ts
// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ AI –¥–ª—è –ø–æ–∫—É–ø–∫–∏
export const ZORA_BUY_FUNCTION = {
  type: 'function' as const,
  function: {
    name: 'buy_zora_coin',
    description: 'Buy a Zora creator coin for a specific user handle and amount',
    parameters: {
      type: 'object',
      properties: {
        zoraHandle: {
          type: 'string',
          description: 'The Zora user handle or identifier to buy coins for',
        },
        amountUSD: {
          type: 'number',
          description: 'The amount in USD to spend on the creator coin',
        },
      },
      required: ['zoraHandle', 'amountUSD'],
    },
  },
};

export async function generateChatResponse(
  messages: ChatMessage[],
  tools: any[] = [ZORA_BUY_FUNCTION]
) {
  const response = await openai.chat.completions.create({
    model: 'gpt-4',
    messages: [
      { role: 'system', content: SYSTEM_PROMPT },
      ...messages,
    ],
    tools,
    tool_choice: 'auto',
    max_completion_tokens: 1000,
  });

  return response;
}
```

```typescript src/components/ChatInterface.tsx
// –§—Ä–æ–Ω—Ç–µ–Ω–¥: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–∞—Ç–∞ —Å AI –∞–≥–µ–Ω—Ç–æ–º
const sendMessage = async () => {
  const userMessage: Message = {
    id: Date.now().toString(),
    content: inputValue,
    sender: 'user',
    timestamp: new Date(),
  };

  setMessages(prev => [...prev, userMessage]);
  setInputValue('');
  setIsLoading(true);

  try {
    const response = await fetch('/api/chat', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        messages: [...messages, userMessage].map(m => ({
          role: m.sender === 'user' ? 'user' : 'assistant',
          content: m.content,
        })),
        userAddress,
      }),
    });

    const data = await response.json();
    
    const agentMessage: Message = {
      id: (Date.now() + 1).toString(),
      content: data.message,
      sender: 'agent',
      timestamp: new Date(),
      toolCall: data.toolCall,
      details: data.details,
    };

    setMessages(prev => [...prev, agentMessage]);
  } catch (error) {
    console.error('Chat error:', error);
  } finally {
    setIsLoading(false);
  }
};
```
</CodeGroup>

### ‚õΩ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (Gas-Free)

–í—Å–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–ø–æ–Ω—Å–∏—Ä—É—é—Ç—Å—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CDP Paymaster:

```typescript src/app/api/zora/buy/route.ts
// –ë—ç–∫–µ–Ω–¥: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —Å–æ —Å–ø–æ–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≥–∞–∑–∞
import { prepareSpendCallData } from '@base-org/account/spend-permission';

export async function POST(request: NextRequest) {
  const { zoraHandle, amountUSD, permission } = await request.json();
  
  // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º USD –≤ USDC (6 decimals)
  const amountUSDC = BigInt(Math.floor(amountUSD * 1_000_000));
  
  // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–∑–æ–≤—ã –¥–ª—è —Ç—Ä–∞—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
  const spendCalls = await prepareSpendCallData(permission, amountUSDC);
  
  // –í—ã–ø–æ–ª–Ω—è–µ–º —Å–æ —Å–ø–æ–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≥–∞–∑–∞
  const result = await sendCalls({
    calls: spendCalls,
    capabilities: {
      paymasterService: {
        url: process.env.PAYMASTER_URL,
      },
    },
  });
  
  return NextResponse.json({ 
    success: true, 
    transactionHash: result.hash,
    message: `Successfully purchased ${amountUSD} USDC worth of @${zoraHandle}'s creator coin!`
  });
}
```

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–æ—Ü–µ—Å—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

<Steps>
  <Step title="–ì–µ–Ω–µ—Ä–∞—Ü–∏—è Nonce">
    –°–µ—Ä–≤–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–π nonce –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
  </Step>
  <Step title="–ó–∞–ø—Ä–æ—Å –ø–æ–¥–ø–∏—Å–∏">
    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ SIWE, —Å–æ–¥–µ—Ä–∂–∞—â–µ–µ nonce, —Å –ø–æ–º–æ—â—å—é —Å–≤–æ–µ–≥–æ Base Account
  </Step>
  <Step title="–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏">
    –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å—å –∏ nonce –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Å–µ—Å—Å–∏–∏
  </Step>
  <Step title="–°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Å—Å–∏–∏">
    –°–æ–∑–¥–∞–µ—Ç—Å—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Å—Å–∏—è —Å –±–µ–∑–æ–ø–∞—Å–Ω—ã–º–∏ cookies
  </Step>
</Steps>

### –ü—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏ –Ω–∞ —Ç—Ä–∞—Ç—ã

<Accordion title="–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—Ä–æ—Å–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è">
```mermaid
sequenceDiagram
    participant User
    participant Frontend
    participant Server
    participant BaseAccount
    participant SpendManager

    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å->>–§—Ä–æ–Ω—Ç–µ–Ω–¥: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç ($1-$2)
    –§—Ä–æ–Ω—Ç–µ–Ω–¥->>–°–µ—Ä–≤–µ—Ä: –°–æ–∑–¥–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫
    –°–µ—Ä–≤–µ—Ä-->>–§—Ä–æ–Ω—Ç–µ–Ω–¥: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∞–¥—Ä–µ—Å —Ç—Ä–∞—Ç—è—â–µ–≥–æ (spender)
    –§—Ä–æ–Ω—Ç–µ–Ω–¥->>BaseAccount: –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–∞—Ç—ã
    BaseAccount->>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–¥–ø–∏—Å—å
    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å->>BaseAccount: –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
    BaseAccount-->>–§—Ä–æ–Ω—Ç–µ–Ω–¥: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ
    –§—Ä–æ–Ω—Ç–µ–Ω–¥->>SpendManager: –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ
```
</Accordion>

### –ü—Ä–æ—Ü–µ—Å—Å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π AI –∞–≥–µ–Ω—Ç–∞

<Accordion title="Purchase Execution Flow">
```mermaid
sequenceDiagram
    participant User
    participant AI
    participant Server
    participant Zora
    participant Base

    –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å->>AI: "–ö—É–ø–∏ –Ω–∞ $1,50 coin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è @creator"
    AI->>–°–µ—Ä–≤–µ—Ä: –í—ã–ø–æ–ª–Ω—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é buy_zora_coin
    –°–µ—Ä–≤–µ—Ä->>Zora: –ü–æ–ª—É—á–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ creator coin
    –°–µ—Ä–≤–µ—Ä->>Base: –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é —Ç—Ä–∞—Ç
    Base->>Base: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–∞—Ç—ã
    Base->>Zora: –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–∫—É–ø–∫—É (–≥–∞–∑ —Å–ø–æ–Ω—Å–∏—Ä–æ–≤–∞–Ω)
    Zora-->>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü–µ—Ä–µ–≤–æ–¥–∏—Ç coins –≤ –∫–æ—à–µ–ª–µ–∫
```
</Accordion>

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞

### –§—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

<CodeGroup>
```typescript src/components/SignInWithBase.tsx
// –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Base Account —Å SIWE
import { createBaseAccountSDK } from "@base-org/account";

export const SignInWithBaseButton = ({ onSignIn, colorScheme = "light" }) => {
  const [isLoading, setIsLoading] = useState(false);

  const handleSignIn = async () => {
    setIsLoading(true);
    try {
      const provider = createBaseAccountSDK({
        appName: "Zora Creator Coins Agent",
      }).getProvider();

      // 1. –ü–æ–ª—É—á–∞–µ–º nonce —Å —Å–µ—Ä–≤–µ—Ä–∞
      const nonceResponse = await fetch('/api/auth/verify', { method: 'GET' });
      const { nonce } = await nonceResponse.json();
      
      // 2. –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SIWE
      const connectResponse = await provider.request({
        method: "wallet_connect",
        params: [{
          version: "1",
          capabilities: {
            signInWithEthereum: {
              chainId: '0x2105',
              nonce,
            },
          },
        }],
      });

      const { address } = connectResponse.accounts[0];

      // 3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º SIWE –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä—É—á–Ω–æ–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ
      if (connectResponse.signInWithEthereum) {
        const { message, signature } = connectResponse.signInWithEthereum;
        
        await fetch('/api/auth/verify', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ address, message, signature })
        });
      }

      onSignIn(address);
    } catch (err) {
      console.error("Sign in failed:", err);
    } finally {
      setIsLoading(false);
    }
  };
};
```

```typescript src/components/SpendPermissionSetup.tsx
// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –Ω–∞ —Ç—Ä–∞—Ç—ã
import { requestSpendPermission } from "@base-org/account/spend-permission";
import { createBaseAccountSDK } from "@base-org/account";

export function SpendPermissionSetup({ userAddress, onPermissionGranted }) {
  const [dailyLimit, setDailyLimit] = useState(2);
  const [isLoading, setIsLoading] = useState(false);

  const handleSetupPermission = async () => {
    setIsLoading(true);
    try {
      // –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
      const walletResponse = await fetch("/api/wallet/create", { method: "POST" });
      const walletData = await walletResponse.json();
      const spenderAddress = walletData.smartAccountAddress;

      // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–∞—Ç—ã —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      const permission = await requestSpendPermission({
        account: userAddress as `0x${string}`,
        spender: spenderAddress as `0x${string}`,
        token: USDC_BASE_ADDRESS as `0x${string}`,
        chainId: 8453,
        allowance: BigInt(dailyLimit * 1_000_000),
        periodInDays: 1,
        provider: createBaseAccountSDK({
          appName: "Zora Creator Coins Agent",
        }).getProvider(),
      });

      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ
      localStorage.setItem("spendPermission", JSON.stringify(permission));
      onPermissionGranted();
    } catch (error) {
      console.error("Permission setup error:", error);
    } finally {
      setIsLoading(false);
    }
  };
}
```

```typescript src/components/SpendPermissionManager.tsx
// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã–º–∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
import { getUserSpendPermissions, revokeSpendPermission } from '@/lib/spend-permissions';

export function SpendPermissionManager({ isAuthenticated, userAddress }) {
  const [permissions, setPermissions] = useState<any[]>([]);
  const [isRevoking, setIsRevoking] = useState(false);

  const loadPermissions = async () => {
    if (!userAddress) return;
    
    try {
      // –ü–æ–ª—É—á–∞–µ–º –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞
      const walletResponse = await fetch("/api/wallet/create", { method: "POST" });
      const { smartAccountAddress } = await walletResponse.json();

      // –ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ç—Ä–∞—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      const userPermissions = await getUserSpendPermissions(userAddress, smartAccountAddress);
      setPermissions(userPermissions);
    } catch (error) {
      console.error('Error loading permissions:', error);
    }
  };

  const handleRevokePermission = async (permission: any) => {
    setIsRevoking(true);
    try {
      const result = await revokeSpendPermission(permission);
      console.log('Permission revoked:', result.id);
      
      // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
      await loadPermissions();
    } catch (error) {
      console.error('Revoke error:', error);
    } finally {
      setIsRevoking(false);
    }
  };
}
```
</CodeGroup>

### –ë—ç–∫–µ–Ω–¥ API –º–∞—Ä—à—Ä—É—Ç—ã

<CodeGroup>
```typescript src/app/api/auth/verify/route.ts
// –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–∏
import { NextRequest, NextResponse } from 'next/server';
import { createPublicClient, http } from 'viem';
import { base } from 'viem/chains';

const client = createPublicClient({ chain: base, transport: http() });
const nonces = new Set<string>();

export async function POST(request: NextRequest) {
  const { address, message, signature } = await request.json();
  
  // –ò–∑–≤–ª–µ–∫–∞–µ–º –∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º nonce
  const nonce = message.match(/Nonce: (\w+)/)?.[1];
  if (!nonce || !nonces.has(nonce)) {
    return NextResponse.json({ error: 'Invalid or expired nonce' }, { status: 401 });
  }
  
  nonces.delete(nonce); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
  
  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å—å —Å –ø–æ–º–æ—â—å—é viem
  const isValid = await client.verifyMessage({ 
    address: address as `0x${string}`, 
    message, 
    signature: signature as `0x${string}` 
  });
  
  if (isValid) {
    const sessionToken = Buffer.from(`${address}:${Date.now()}`).toString('base64');
    const response = NextResponse.json({ ok: true, address, sessionToken });
    
    response.cookies.set('session', sessionToken, {
      httpOnly: true,
      secure: process.env.NODE_ENV === 'production',
      sameSite: 'strict',
      maxAge: 60 * 60 * 24 * 7
    });
    
    return response;
  }
}

export async function GET() {
  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –±–µ–∑–æ–ø–∞—Å–Ω—ã–π nonce
  const array = new Uint8Array(16);
  crypto.getRandomValues(array);
  const nonce = Array.from(array, byte => byte.toString(16).padStart(2, '0')).join('');
  
  nonces.add(nonce);
  return NextResponse.json({ nonce });
}
```

```typescript src/app/api/wallet/create/route.ts
// –°–æ–∑–¥–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ –∫–æ—à–µ–ª—å–∫–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º CDP SDK
import { NextRequest, NextResponse } from 'next/server';
import { Wallet } from '@coinbase/coinbase-sdk';

export async function POST() {
  try {
    // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ—à–µ–ª–µ–∫
    const wallet = await Wallet.create();
    
    // –°–æ–∑–¥–∞–µ–º —Å–º–∞—Ä—Ç-–∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –∫–æ—à–µ–ª—å–∫–∞
    const smartAccount = await wallet.createSmartAccount();
    
    return NextResponse.json({
      serverWalletAddress: wallet.getDefaultAddress(),
      smartAccountAddress: smartAccount.getAddress(),
    });
  } catch (error) {
    console.error('Wallet creation error:', error);
    return NextResponse.json({ error: 'Failed to create wallet' }, { status: 500 });
  }
}
```

```typescript src/app/api/zora/buy/route.ts
// –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ creator coin
import { NextRequest, NextResponse } from 'next/server';
import { prepareSpendCallData } from '@base-org/account/spend-permission';

export async function POST(request: NextRequest) {
  try {
    const { zoraHandle, amountUSD, permission } = await request.json();
    
    // –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º USD –≤ USDC (6 decimals)
    const amountUSDC = BigInt(Math.floor(amountUSD * 1_000_000));
    
    // –ü–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º –≤—ã–∑–æ–≤—ã –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Ç—Ä–∞—Ç
    const spendCalls = await prepareSpendCallData(permission, amountUSDC);
    
    // –í—ã–ø–æ–ª–Ω—è–µ–º —Å–æ —Å–ø–æ–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ–º CDP Paymaster
    const result = await sendCalls({
      calls: spendCalls,
      capabilities: {
        paymasterService: {
          url: process.env.PAYMASTER_URL,
        },
      },
    });
    
    return NextResponse.json({ 
      success: true, 
      transactionHash: result.hash,
      message: `Successfully purchased ${amountUSD} USDC worth of @${zoraHandle}'s creator coin!`
    });
  } catch (error) {
    console.error('Purchase error:', error);
    return NextResponse.json({ error: 'Purchase failed' }, { status: 500 });
  }
}
```

```typescript src/app/api/chat/route.ts
// –ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ AI —á–∞—Ç–∞
import { NextRequest, NextResponse } from 'next/server';
import { generateChatResponse } from '@/lib/openai';

export async function POST(request: NextRequest) {
  try {
    const { messages, userAddress } = await request.json();
    
    const response = await generateChatResponse(messages);
    const choice = response.choices[0];
    
    if (choice.message.tool_calls) {
      // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏ (buy_zora_coin)
      const toolCall = choice.message.tool_calls[0];
      const { zoraHandle, amountUSD } = JSON.parse(toolCall.function.arguments);
      
      // –í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–∫—É–ø–∫—É
      const purchaseResponse = await fetch('/api/zora/buy', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ zoraHandle, amountUSD, userAddress }),
      });
      
      const purchaseData = await purchaseResponse.json();
      
      return NextResponse.json({
        message: purchaseData.message,
        toolCall: true,
        details: purchaseData,
      });
    }
    
    return NextResponse.json({
      message: choice.message.content,
      toolCall: false,
    });
  } catch (error) {
    console.error('Chat processing error:', error);
    return NextResponse.json({ error: 'Chat processing failed' }, { status: 500 });
  }
}
```
</CodeGroup>

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –¥–µ–ø–ª–æ—è:

<CodeGroup>
```bash Production
NEXT_PUBLIC_SITE_URL=https://your-app.vercel.app
OPENAI_API_KEY=your_openai_api_key
ZORA_API_KEY=your_zora_api_key
PAYMASTER_URL=https://api.developer.coinbase.com/rpc/v1/base/your_key
SESSION_SECRET=your_secure_random_session_secret
```

```bash Development
NEXT_PUBLIC_SITE_URL=http://localhost:3000
OPENAI_API_KEY=your_openai_api_key
ZORA_API_KEY=your_zora_api_key
PAYMASTER_URL=https://api.developer.coinbase.com/rpc/v1/base/your_key
```
</CodeGroup>

## –î–µ–ø–ª–æ–π

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Vercel CLI

–î–µ–ø–ª–æ–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –ø–æ–¥–ø–∞–ø–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cd base-account/agent-spend-permissions
npx vercel --prod
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –¥–∞—à–±–æ—Ä–¥–µ [Vercel](https://vercel.com)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∫–∞–∫ `base-account/agent-spend-permissions`
3. –§—Ä–µ–π–º–≤–æ—Ä–∫ –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å—Å—è –∫–∞–∫ Next.js

<Tip>
  –î–ª—è –¥–µ–ø–ª–æ—è –≤ –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Vercel CLI –∏–∑ –ø–æ–¥–ø–∞–ø–∫–∏ –Ω–∞–¥–µ–∂–Ω–µ–µ, —á–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≤ –¥–∞—à–±–æ—Ä–¥–µ.
</Tip>

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞ Creator Coin

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–ö—É–ø–∏ –Ω–∞ $1,50 creator coin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è @vitalik"
–ê–≥–µ–Ω—Ç: "–Ø –∫—É–ø–ª—é –Ω–∞ $1,50 creator coin –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è @vitalik –¥–ª—è –≤–∞—Å..."
       ‚úÖ –ü–æ–∫—É–ø–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! Coins –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ –≤–∞—à –∫–æ—à–µ–ª–µ–∫.
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–æ–π –ø–∞–Ω–µ–ª–∏
      - –î–Ω–µ–≤–Ω–æ–π –ª–∏–º–∏—Ç: $2.00 USDC ‚Ä¢ –ê–∫—Ç–∏–≤–Ω–æ
      - –î–æ—Å—Ç—É–ø–Ω–∞ –∫–Ω–æ–ø–∫–∞ [–û—Ç–æ–∑–≤–∞—Ç—å]
      
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ù–∞–∂–∏–º–∞–µ—Ç "–û—Ç–æ–∑–≤–∞—Ç—å" ‚Üí –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ –∫–æ—à–µ–ª—å–∫–∞ ‚Üí –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –æ—Ç–æ–∑–≤–∞–Ω–æ
–ê–≥–µ–Ω—Ç: "‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∞ —Ç—Ä–∞—Ç—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–æ–∑–≤–∞–Ω–æ!"
```

## –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

<CardGroup cols={2}>
  <Card
    title="–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Spend Permissions"
    icon="shield-check"
    href="/base-account/improve-ux/spend-permissions"
  >
    –£–∑–Ω–∞–π—Ç–µ –±–æ–ª—å—à–µ –æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö –Ω–∞ —Ç—Ä–∞—Ç—ã (Spend Permissions) –≤ Base Account
  </Card>
  <Card
    title="–°–ø–æ–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∞–∑–∞"
    icon="gas-pump"
    href="/base-account/improve-ux/sponsor-gas/paymasters"
  >
    –†–µ–∞–ª–∏–∑—É–π—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å CDP Paymaster
  </Card>
  <Card
    title="–°–ø—Ä–∞–≤–∫–∞ –ø–æ Base Account SDK"
    icon="wallet"
    href="/base-account/reference/core/createBaseAccount"
  >
    –ü–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ Base Account SDK
  </Card>
  <Card
    title="–°–ø—Ä–∞–≤–∫–∞ –ø–æ CDP"
    icon="cube"
    href="https://docs.cdp.coinbase.com/api-reference/v2/introduction"
  >
    –ü–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ API Coinbase Developer Platform
  </Card>
</CardGroup>

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

<Steps>
  <Step title="–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π">
    ```bash
    git clone https://github.com/base/demos.git
    cd demos/base-account/agent-spend-permissions
    ```
  </Step>
  <Step title="–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏">
    ```bash
    npm install
    ```
  </Step>
  <Step title="–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ">
    –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∞—à–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ OpenAI, Zora –∏ CDP
  </Step>
  <Step title="–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏">
    ```bash
    npm run dev
    ```
  </Step>
  <Step title="–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å">
    –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ç—Ä–∞—Ç—ã –∏ –æ–±—â–∞–π—Ç–µ—Å—å —Å AI –∞–≥–µ–Ω—Ç–æ–º
  </Step>
</Steps>

<Tip>
  **–•–æ—Ç–∏—Ç–µ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å?** –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω—è—Ç—å –ø—Ä–æ–º—Ç—ã –¥–ª—è AI, –ª–∏–º–∏—Ç—ã —Ç—Ä–∞—Ç, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–æ–∫–µ–Ω—ã –∏–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏ –¥–ª—è —Å–æ–∑–¥–∞—Ç–µ–ª–µ–π, –æ–±–Ω–æ–≤–ª—è—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ API –º–∞—Ä—à—Ä—É—Ç—ã.
</Tip>
