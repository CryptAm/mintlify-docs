---
title: 'Запуск AI агентов на Base'
description: 'Узнайте, как создавать и развертывать автономные AI агенты на Base с доступом к стейблкоинам, токенам, NFT и ончейн действиям с использованием CDP AgentKit.'
---

import LangChainReplitInstructions from '/snippets/ai-instructions/langchain-replit.mdx';
import LangChainLocalInstructions from '/snippets/ai-instructions/langchain-local.mdx';
import ElizaInstructions from '/snippets/ai-instructions/eliza.mdx';

AI агенты становятся экспоненциально более мощными, когда они находятся в блокчейне! Развернув AI агентов на Base, вы получаете доступ к **стейблкоинам**, **токенам**, **NFT** и обширной экосистеме **DeFi протоколов**. Это значительно увеличивает их автономность и спектр задач, которые они могут выполнять, от автоматической торговли до сложных многошаговых финансовых операций.

## Что вы создадите

К концу этого руководства вы развернете полностью функционального AI агента, который сможет:

- **Выполнять ончейн транзакции** автономно
- **Взаимодействовать с DeFi протоколами** для торговли и обеспечения ликвидности
- **Управлять цифровыми активами**, включая токены и NFT
- **Реагировать на рыночные условия** с интеллектуальной автоматизацией

<CardGroup cols={2}>
  <Card title="Ончейн автономность" icon="robot">
    Агенты могут выполнять транзакции, торговать токенами и взаимодействовать со смарт-контрактами
  </Card>
  <Card title="Интеграция DeFi" icon="coins">
    Доступ к DEX, кредитным протоколам и возможностям yield farming
  </Card>
  <Card title="Управление активами" icon="wallet">
    Управление портфелями, коллекциями NFT и кросс-чейн активами
  </Card>
  <Card title="Аналитика рынка" icon="chart-line">
    Анализ рынка в реальном времени и автоматизированные торговые стратегии
  </Card>
</CardGroup>

## Предварительные требования

Перед запуском вашего AI агента убедитесь, что у вас настроено следующее:

<Steps>
  <Step title="Среда разработки">
    Выберите предпочитаемую среду разработки и убедитесь, что необходимые инструменты установлены.
    
    **Для локальной разработки:**
    - Node.js 18+ или Python 3.10+
    - Git для управления репозиториями
    - Редактор кода (рекомендуется VS Code)
    
    **Для Replit (в браузере):**
    - Аккаунт Replit для облачной разработки
    - Локальная установка не требуется
    
    <Tip>
    Replit идеально подходит для быстрого прототипирования, тогда как локальная разработка дает больше контроля и гибкости.
    </Tip>
  </Step>
  
  <Step title="API ключи и учетные данные">
    Соберите необходимые API ключи для вашего AI агента:
    
    - **API ключ Coinbase Developer Platform (CDP)**: [Получите учетные данные CDP](https://www.coinbase.com/cloud)
    - **API ключ OpenAI**: [Создайте аккаунт OpenAI](https://platform.openai.com/api-keys) for AI capabilities
    - **Доступ к сети Base**: Изначально ваш агент будет работать в тестовой сети Base Sepolia
    
    <Warning>
    Храните все API ключи безопасно и никогда не коммитьте их в систему контроля версий. Используйте переменные окружения для всех чувствительных учетных данных.
    </Warning>
  </Step>
  
  <Step title="Понимание фреймворков для агентов">
    Выберите фреймворк, который лучше всего соответствует вашим потребностям:
    
    - **LangChain**: Полнофункциональный фреймворк с обширными интеграциями
    - **Eliza**: Легковесный, быстрая настройка для простых агентов
    
    <Note>
    Каждый фреймворк имеет разные преимущества. LangChain предлагает больше кастомизации, а Eliza обеспечивает быстрое развертывание.
    </Note>
  </Step>
</Steps>

## Выберите фреймворк для агента

Выберите фреймворк и среду, которые лучше всего соответствуют вашим предпочтениям разработки и требованиям проекта:

<Tabs>
  <Tab title="Фреймворк LangChain">
    **LangChain** предоставляет комплексный фреймворк для создания сложных AI агентов с расширенными инструментами и интеграциями.
    
    <Info>
    **Лучше всего подходит для:** Сложных агентов, требующих пользовательских инструментов, продвинутой логики и обширных интеграций с внешними сервисами.
    </Info>

    ### Среда разработки

    <Tabs>
      <Tab title="Replit (Облачная разработка)">
        Идеально для быстрого старта без необходимости локальной настройки.
        
        <LangChainReplitInstructions/>
        
        <Tip>
        **Преимущества Replit:**
        - Не требуется настройка локального окружения
        - Встроенные функции для совместной работы
        - Автоматический деплой и хостинг
        - Отлично подходит для обучения и прототипирования
        </Tip>
      </Tab>
      
      <Tab title="Локальная разработка">
        Рекомендуется для продакшен приложений и расширенной кастомизации.
        
        <LangChainLocalInstructions/>
        
        <Tip>
        **Преимущества локальной разработки:**
        - Полный контроль над вашим окружением
        - Лучшая производительность для интенсивных операций
        - Более простая интеграция с существующими инструментами
        - Повышенная безопасность для продакшен приложений
        </Tip>
      </Tab>
    </Tabs>
    
    ### Продвинутые функции LangChain
    
    Как только ваш базовый агент заработает, вы можете улучшить его:
    
    <AccordionGroup>
      <Accordion title="Пользовательские инструменты и действия">
        ```python
        # Пример: Пользовательский инструмент для взаимодействия с DeFi
        from cdp_langchain.tools import CdpTool
        
        class CustomDeFiTool(CdpTool):
            def __init__(self):
                super().__init__(
                    name="defi_analyzer",
                    description="Analyze DeFi opportunities on Base"
                )
        ```
      </Accordion>
      
      <Accordion title="Память и сохранение состояния">
        ```python
        # Добавьте память вашему агенту
        from langchain.memory import ConversationBufferWindowMemory
        
        memory = ConversationBufferWindowMemory(
            k=10,  # Запоминать последние 10 взаимодействий
            return_messages=True
        )
        ```
      </Accordion>
      
      <Accordion title="Координация нескольких агентов">
        ```python
        # Координируйте несколько специализированных агентов
        trading_agent = create_trading_agent()
        portfolio_agent = create_portfolio_agent()
        
        # Оркеструйте агентов для сложных стратегий
        coordinator = AgentCoordinator([trading_agent, portfolio_agent])
        ```
      </Accordion>
    </AccordionGroup>
  </Tab>
  
  <Tab title="Фреймворк Eliza">
    **Eliza** предлагает самый быстрый путь к развертыванию AI агентов с минимальной конфигурацией и максимальной скоростью.
    
    <Info>
    **Лучше всего подходит для:** Быстрых развертываний, простых автономных агентов и быстрого прототипирования с немедленными результатами.
    </Info>
    
    <ElizaInstructions/>
    
    ### Преимущества фреймворка Eliza
    
    <CardGroup cols={2}>
      <Card title="Быстрое развертывание" icon="rocket">
        Запустите вашего агента менее чем за 5 минут с помощью CLI инструмента
      </Card>
      <Card title="Минимальная конфигурация" icon="settings">
        Предварительно настроенные шаблоны для распространенных паттернов агентов
      </Card>
      <Card title="Встроенные интеграции" icon="plug">
        Нативная поддержка популярных ончейн действий и API
      </Card>
      <Card title="Шаблоны сообщества" icon="users">
        Доступ к предварительно созданным шаблонам агентов от сообщества
      </Card>
    </CardGroup>
    
    ### Расширение вашего агента Eliza
    
    <Steps>
      <Step title="Добавьте пользовательские действия">
        Расширьте возможности вашего агента, добавив пользовательские ончейн действия:
        
        ```typescript
        // Добавьте в реестр действий вашего агента
        export const customActions = [
          {
            name: "YIELD_FARM",
            description: "Automatically farm yield on Base protocols",
            handler: async (params) => {
              // Ваша логика для yield farming
            }
          }
        ];
        ```
      </Step>
      
      <Step title="Настройте торговые стратегии">
        Реализуйте автоматизированные торговые стратегии:
        
        ```typescript
        export const tradingConfig = {
          strategies: ["DCA", "MOMENTUM", "ARBITRAGE"],
          riskLevel: "MODERATE",
          maxSlippage: 0.01
        };
        ```
      </Step>
      
      <Step title="Настройте мониторинг">
        Добавьте мониторинг и оповещения для вашего агента:
        
        ```typescript
        export const monitoringConfig = {
          alerts: {
            lowBalance: true,
            failedTx: true,
            profitTarget: 0.05
          }
        };
        ```
      </Step>
    </Steps>
  </Tab>
</Tabs>

## Тестирование вашего AI агента

Перед развертыванием в основную сеть тщательно протестируйте возможности вашего агента:

<Steps>
  <Step title="Валидация в тестовой сети">
    **Протестируйте все функции в тестовой сети Base Sepolia:**
    
    1. **Операции с кошельками**: Создание кошельков, проверка балансов, перевод токенов
    2. **Взаимодействие с DeFi**: Тестирование свопов, предоставления ликвидности, кредитования
    3. **Операции с NFT**: Минт, перевод и торговля NFT
    4. **Обработка ошибок**: Убедитесь в корректной обработке неудачных транзакций
    
    <Check>
    Ваш агент должен обрабатывать все базовые операции без ошибок, прежде чем переходить к следующим шагам.
    </Check>
  </Step>
  
  <Step title="Тестирование производительности">
    **Оцените производительность агента в различных условиях:**
    
    - Время реакции на изменения рынка
    - Процент успешных транзакций
    - Эффективность оптимизации газа
    - Использование ресурсов
    
    <Tip>
    Мониторьте метрики производительности вашего агента, чтобы выявить возможности для оптимизации.
    </Tip>
  </Step>
  
  <Step title="Аудит безопасности">
    **Убедитесь, что меры безопасности реализованы:**
    
    - API ключи должным образом защищены
    - Приватные ключи кошельков зашифрованы
    - Реализовано ограничение частоты запросов (rate limiting)
    - Настроены лимиты транзакций
    
    <Warning>
    Никогда не развертывайте в основную сеть без надлежащего аудита безопасности. Рассмотрите возможность профессиональных проверок безопасности для операций с высокой стоимостью.
    </Warning>
  </Step>
</Steps>

## Развертывание и мониторинг

<Steps>
  <Step title="Развертывание в продакшен">
    **Разверните вашего агента в продакшен окружении:**
    
    <Tabs>
      <Tab title="Облачный деплой">
        ```bash
        # Деплой в облачного провайдера
        npm run build
        npm run deploy:production
        
        # Установите переменные окружения для продакшена
        export CDP_API_KEY_NAME="your_production_key"
        export NETWORK_ID="base-mainnet"
        ```
      </Tab>
      
      <Tab title="Самодельный хостинг">
        ```bash
        # Настройте продакшен сервер
        pm2 start ecosystem.config.js
        pm2 startup
        pm2 save
        
        # Настройте мониторинг
        pm2 install pm2-logrotate
        ```
      </Tab>
    </Tabs>
    
    <Check>
    Убедитесь, что ваш деплой включает надлежащее логирование, мониторинг и системы резервного копирования.
    </Check>
  </Step>
  
  <Step title="Мониторинг и оповещения">
    **Настройте комплексный мониторинг:**
    
    - **Мониторинг транзакций**: Отслеживайте процент успешных операций и использование газа
    - **Метрики производительности**: Мониторьте время отклика и пропускную способность
    - **Финансовый учет**: Следите за производительностью портфеля и прибылью/убытками
    - **Состояние системы**: Мониторьте ресурсы сервера и время безотказной работы
    
    <Tip>
    Используйте такие инструменты, как Grafana, DataDog или пользовательские дашборды для визуализации производительности вашего агента.
    </Tip>
  </Step>
</Steps>

## Решение проблем

<AccordionGroup>
  <Accordion title="Агент не отвечает">
    **Распространенные решения:**
    - Проверьте действительность и разрешения API ключей
    - Убедитесь в наличии подключения к RPC конечным точкам Base
    - Проверьте, достаточно ли газа на кошельке агента
    - Просмотрите логи агента на наличие сообщений об ошибках
    - Подтвердите квоты и лимиты скорости для OpenAI API
  </Accordion>
  
  <Accordion title="Сбои транзакций">
    **Отладка проблем с транзакциями:**
    - Убедитесь в достаточном балансе токенов для операций
    - Проверьте настройки цены газа и загруженность сети
    - Подтвердите корректность адресов смарт-контрактов
    - Просмотрите результаты симуляции транзакций
    - Проверьте настройки допустимого проскальзывания (slippage)
  </Accordion>
  
  <Accordion title="Проблемы с производительностью">
    **Оптимизируйте производительность агента:**
    - Реализуйте пакетную обработку запросов для множественных операций
    - Используйте пулы соединений для операций с базами данных
    - Кэшируйте часто запрашиваемые данные
    - Оптимизируйте частоту торговли для снижения затрат на газ
    - Просмотрите и настройте параметры AI модели
  </Accordion>
  
  <Accordion title="Проблемы безопасности">
    **Усильте меры безопасности:**
    - Регулярно обновляйте API ключи
    - Внедрите проверку подписи транзакций
    - Настройте требования к мульти-подписи для крупных транзакций
    - Включите лимиты трат для кошелька
    - Мониторьте наличие необычных паттернов активности
  </Accordion>
</AccordionGroup>

## Продвинутые сценарии использования

Изучите продвинутые паттерны для сложных AI агентов:

<CardGroup cols={2}>
  <Card title="Арбитражный бот" icon="exchange">
    Создавайте агентов, которые выявляют и выполняют арбитражные возможности на разных DEX
  </Card>
  <Card title="Менеджер портфеля" icon="briefcase">
    Создавайте агентов, которые ребалансируют портфели на основе рыночных условий
  </Card>
  <Card title="Оптимизатор доходности" icon="trending-up">
    Разверните агентов, которые автоматически находят и реинвестируют лучшую доходность
  </Card>
  <Card title="Трейдер NFT" icon="image">
    Разрабатывайте агентов, которые анализируют и торгуют NFT на основе рыночных трендов
  </Card>
</CardGroup>

## Следующие шаги

Расширьте возможности вашего AI агента:

<Steps>
  <Step title="Интегрируйте дополнительные протоколы">
    Подключите вашего агента к большему количеству DeFi протоколов:
    - **Uniswap** для продвинутых торговых стратегий
    - **Aave** для кредитования и заимствования
    - **Compound** для генерации дохода
    - **1inch** для оптимальной маршрутизации сделок
  </Step>
  
  <Step title="Реализуйте продвинутые стратегии">
    Создавайте сложные торговые и управленческие стратегии:
    - Алгоритмы усреднения долларовой стоимости (DCA)
    - Торговля по принципу возврата к среднему (mean reversion)
    - Стратегии на основе импульса (momentum)
    - Ребалансировка портфеля с учетом риска
  </Step>
  
  <Step title="Добавьте кросс-чейн возможности">
    Расширьте вашего агента на несколько цепей:
    - **Ethereum** для дополнительного доступа к DeFi
    - **Polygon** для недорогих операций
    - **Arbitrum** для продвинутой торговли
    - Автоматизация кросс-чейн мостов
  </Step>
</Steps>

## Ресурсы и сообщество

<CardGroup cols={2}>
  <Card title="Документация CDP AgentKit" icon="book" href="https://docs.cdp.coinbase.com/agentkit/docs/welcome">
    Полная документация по созданию агентов с CDP
  </Card>
  <Card title="Discord разработчиков Base" icon="discord" href="https://discord.com/invite/buildonbase">
    Общайтесь с другими разработчиками, создающими AI агентов на Base
  </Card>
  <Card title="Репозиторий GitHub" icon="github" href="https://github.com/coinbase/agentkit">
    Получите доступ к исходному коду, примерам и участвуйте в проекте
  </Card>
  <Card title="Видео рководства" icon="video" href="https://www.youtube.com/live/DlRR1focAiw">
    Смотрите пошаговые руководства по разработке агентов
  </Card>
</CardGroup>

## Заключение

Поздравляем! Вы успешно запустили AI агента на Base с полным набором ончейн возможностей. Ваш агент теперь может:

✅ **Выполнять автономные транзакции** с реальным финансовым воздействием
✅ **Взаимодействовать с DeFi протоколами** для продвинутых финансовых операций
✅ **Управлять цифровыми активами**, включая токены и NFT
✅ **Интеллектуально реагировать** на рыночные условия и возможности

**Готовы к продакшену?** Рассмотрите возможность внедрения продвинутого мониторинга, аудитов безопасности и постепенного масштабирования по мере того, как ваш агент доказывает свою эффективность на живых рынках.

<Check>
Ваш AI агент теперь часть ончейн экономики, готовый работать 24/7 в мире децентрализованных финансов. Удачи в разработке на Base!
</Check>
